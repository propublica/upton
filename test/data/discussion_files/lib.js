(function(j){function g(b){var c=h["$"+b]||window[b];if(!c)throw Error("Ender Error: Requested module '"+b+"' has not been defined.");return c}function c(b,c){return h["$"+b]=c}function f(b,c){var e,f;this.selector=b;typeof b=="undefined"?(e=[],this.selector=""):e=typeof b=="string"||b.nodeName||b.length&&"item"in b||b==window?m._select(b,c):isFinite(b.length)?b:[b];for(f=this.length=e.length;f--;)this[f]=e[f]}function m(b,c){return new f(b,c)}j.global=j;var h={},e=j.$,b=j.require,n=j.provide;j.provide=
c;j.require=g;f.prototype.forEach=function(b,c){var e,f;e=0;for(f=this.length;e<f;++e)e in this&&b.call(c||this[e],this[e],e,this);return this};f.prototype.$=m;m._VERSION="0.4.3-dev";m.fn=f.prototype;m.ender=function(b,c){var e=c?f.prototype:m,h;for(h in b)h!="noConflict"&&h!="_VERSION"&&(e[h]=b[h])};m._select=function(b,c){if(typeof b=="string")return(c||document).querySelectorAll(b);if(b.nodeName)return[b];return b};m.noConflict=function(f){j.$=e;if(f)j.provide=n,j.require=b,f(g,c,this);return this};
if(typeof module!=="undefined"&&module.exports)module.exports=m;j.ender=j.$=j.ender||m})(this);
(function(){var j={exports:{}};(function(g,c){typeof j!="undefined"?j.exports=c():typeof define=="function"&&typeof define.amd=="object"?define(c):this[g]=c()})("domready",function(g){function c(b){for(n=1;b=f.shift();)b()}var f=[],m,h=document,e=h.documentElement,b=e.doScroll,n=/^loade|c/.test(h.readyState);h.addEventListener&&h.addEventListener("DOMContentLoaded",m=function(){h.removeEventListener("DOMContentLoaded",m,!1);c()},!1);b&&h.attachEvent("onreadystatechange",m=function(){/^c/.test(h.readyState)&&
(h.detachEvent("onreadystatechange",m),c())});return g=b?function(b){self!=top?n?b():f.push(b):function(){try{e.doScroll("left")}catch(c){return setTimeout(function(){g(b)},50)}b()}()}:function(b){n?b():f.push(b)}});provide("domready",j.exports);(function(g){var c=require("domready");g.ender({domReady:c});g.ender({ready:function(f){c(f);return this}},!0)})(ender)})();
(function(){var j={exports:{}};(function(g,c,f){typeof j!="undefined"&&j.exports?j.exports=c():typeof f.define!="undefined"&&f.define=="function"&&f.define.amd?define(g,c):f[g]=c()})("qwery",function(){function g(){this.c={}}function c(a){return U.g(a)||U.s(a,"(^|\\s+)"+a+"(\\s+|$)",1)}function f(a,d){for(var k=0,i=a.length;k<i;k++)d(a[k])}function m(a){for(var d=[],k=0,i=a.length;k<i;++k)t(a[k])?d=d.concat(a[k]):d[d.length]=a[k];return d}function h(a){for(var d=0,k=a.length,i=[];d<k;d++)i[d]=a[d];
return i}function e(a){for(;a=a.previousSibling;)if(a[B]==1)break;return a}function b(a){return a.match(P)}function n(a,d,k,i,b,u,e,x,f,N,m){var l,h,g;if(this[B]!==1)return!1;if(d&&d!=="*"&&this[q]&&this[q].toLowerCase()!==d)return!1;if(k&&(l=k.match(F))&&l[1]!==this.id)return!1;if(k&&(g=k.match(I)))for(a=g.length;a--;)if(!c(g[a].slice(1)).test(this.className))return!1;if(f&&v.pseudos[f]&&!v.pseudos[f](this,m))return!1;if(i&&!e)for(h in f=this.attributes,f)if(Object.prototype.hasOwnProperty.call(f,
h)&&(f[h].name||h)==b)return this;if(i&&!j(u,V(this,b)||"",e))return!1;return this}function o(d){return T.g(d)||T.s(d,d.replace(a,"\\$1"))}function j(a,d,k){switch(a){case "=":return d==k;case "^=":return d.match(M.g("^="+k)||M.s("^="+k,"^"+o(k),1));case "$=":return d.match(M.g("$="+k)||M.s("$="+k,o(k)+"$",1));case "*=":return d.match(M.g(k)||M.s(k,o(k),1));case "~=":return d.match(M.g("~="+k)||M.s("~="+k,"(?:^|\\s+)"+o(k)+"(?:\\s+|$)",1));case "|=":return d.match(M.g("|="+k)||M.s("|="+k,"^"+o(k)+
"(-|$)",1))}return 0}function s(a,d){var k=[],i=[],u,c,e,x,V,m=d,h=Q.g(a)||Q.s(a,a.split(O)),l=a.match(N);if(!h.length)return k;c=(h=h.slice(0)).pop();if(h.length&&(u=h[h.length-1].match(J)))m=z(d,u[1]);if(!m)return k;x=b(c);e=m!==d&&m[B]!==9&&l&&/^[+~]$/.test(l[l.length-1])?function(a){for(;m=m.nextSibling;)m[B]==1&&(x[1]?x[1]==m[q].toLowerCase():1)&&(a[a.length]=m);return a}([]):m[H](x[1]||"*");u=0;for(c=e.length;u<c;u++)if(V=n.apply(e[u],x))k[k.length]=V;if(!h.length)return k;f(k,function(a){r(a,
h,l)&&(i[i.length]=a)});return i}function r(a,d,k,i){function u(a,i,e){for(;e=W[k[i]](e,a);)if(w(e)&&n.apply(e,b(d[i])))if(i){if(c=u(e,i-1,e))return c}else return e}var c;return(c=u(a,d.length-1,a))&&(!i||R(c,i))}function w(a,d){return a&&typeof a==="object"&&(d=a[B])&&(d==1||d==9)}function y(a){var d=[],k,i;k=0;a:for(;k<a.length;++k){for(i=0;i<d.length;++i)if(d[i]==a[k])continue a;d[d.length]=a[k]}return d}function t(a){return typeof a==="object"&&isFinite(a.length)}function E(a){if(!a)return G;
if(typeof a=="string")return v(a)[0];if(!a[B]&&t(a))return a[0];return a}function z(a,d,k){return a[B]===9?a.getElementById(d):a.ownerDocument&&((k=a.ownerDocument.getElementById(d))&&R(k,a)&&k||!R(a,a.ownerDocument)&&A('[id="'+d+'"]',a)[0])}function v(a,d){var i,b,u=E(d);if(!u||!a)return[];if(a===window||w(a))return!d||a!==window&&w(u)&&R(a,u)?[a]:[];if(a&&t(a))return m(a);if(i=a.match(k)){if(i[1])return(b=z(u,i[1]))?[b]:[];if(i[2])return h(u[H](i[2]));if(X&&i[3])return h(u[C](i[3]))}return A(a,
u)}function D(a,d){return function(k){var i,b;if(L.test(k)){if(a[B]!==9){if(!(b=i=a.getAttribute("id")))a.setAttribute("id",b="__qwerymeupscotty");d(a.parentNode||a,'[id="'+b+'"]'+k,!0);i||a.removeAttribute("id")}}else k.length&&d(a,k,!1)}}var G=document,l=G.documentElement,C="getElementsByClassName",H="getElementsByTagName",q="tagName",B="nodeType",A,F=/#([\w\-]+)/,I=/\.[\w\-]+/g,J=/^#([\w\-]+)$/,K=/^([\w]+)?\.([\w\-]+)$/,L=/(^|,)\s*[>~+]/,d=/^\s+|\s*([,\s\+\~>]|$)\s*/g,i=/[\s\>\+\~]/,x=/(?![\s\w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^'"]*\]|[\s\w\+\-]*\))/,
a=/([.*+?\^=!:${}()|\[\]\/\\])/g,k=RegExp(J.source+"|"+/^([\w\-]+)$/.source+"|"+/^\.([\w\-]+)$/.source),N=RegExp("("+i.source+")"+x.source,"g"),O=RegExp(i.source+x.source),P=RegExp(/^(\*|[a-z0-9]+)?(?:([\.\#]+[\w\-\.#]+)?)/.source+"("+/\[([\w\-]+)(?:([\|\^\$\*\~]?\=)['"]?([ \w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^]+)["']?)?\]/.source+")?("+/:([\w\-]+)(\(['"]?([^()]+)['"]?\))?/.source+")?"),W={" ":function(a){return a&&a!==l&&a.parentNode},">":function(a,d){return a&&a.parentNode==d.parentNode&&a.parentNode},
"~":function(a){return a&&a.previousSibling},"+":function(a,d,k,i){if(!a)return!1;return(k=e(a))&&(i=e(d))&&k==i&&k}};g.prototype={g:function(a){return this.c[a]||void 0},s:function(a,d,k){return this.c[a]=k?RegExp(d):d}};var U=new g,T=new g,M=new g,Q=new g,R="compareDocumentPosition"in l?function(a,d){return(d.compareDocumentPosition(a)&16)==16}:"contains"in l?function(a,d){d=d[B]===9||d==window?l:d;return d!==a&&d.contains(a)}:function(a,d){for(;a=a.parentNode;)if(a===d)return 1;return 0},V=function(){var a=
G.createElement("p");return(a.innerHTML='<a href="#x">x</a>')&&a.firstChild.getAttribute("href")!="#x"?function(a,d){return d==="class"?a.className:d==="href"||d==="src"?a.getAttribute(d,2):a.getAttribute(d)}:function(a,d){return a.getAttribute(d)}}(),X=!!G[C],Y=G.querySelector&&G.querySelectorAll,S=function(a,d){var k=[],i,b;try{if(d[B]===9||!L.test(a))return h(d.querySelectorAll(a));f(i=a.split(","),D(d,function(a,d){b=a.querySelectorAll(d);b.length==1?k[k.length]=b.item(0):b.length&&(k=k.concat(h(b)))}));
return i.length>1&&k.length>1?y(k):k}catch(c){}return u(a,d)},u=function(a,k){var i=[],b,u,e,x,a=a.replace(d,"$1");if(b=a.match(K)){x=c(b[2]);b=k[H](b[1]||"*");u=0;for(e=b.length;u<e;u++)x.test(b[u].className)&&(i[i.length]=b[u]);return i}f(b=a.split(","),D(k,function(a,d,b){x=s(d,a);u=0;for(e=x.length;u<e;u++)if(a[B]===9||b||R(x[u],k))i[i.length]=x[u]}));return b.length>1&&i.length>1?y(i):i},i=function(a){typeof a.useNativeQSA!=="undefined"&&(A=!a.useNativeQSA?u:Y?S:u)};i({useNativeQSA:!0});v.configure=
i;v.uniq=y;v.is=function(a,d,k){if(w(d))return a==d;if(t(d))return!!~m(d).indexOf(a);for(var i=d.split(","),u;d=i.pop();)if(u=Q.g(d)||Q.s(d,d.split(O)),d=d.match(N),u=u.slice(0),n.apply(a,b(u.pop()))&&(!u.length||r(a,u,d,k)))return!0;return!1};v.pseudos={};return v},this);provide("qwery",j.exports);(function(g){var c=require("qwery");g.pseudos=c.pseudos;g._select=function(f,m){return(g._select=function(f){try{return f=require("bonzo"),function(b,e){return/^\s*</.test(b)?f.create(b,e):c(b,e)}}catch(e){}return c}())(f,
m)};g.ender({find:function(f){var m=[],h,e,b,n,o;h=0;for(e=this.length;h<e;h++){o=c(f,this[h]);b=0;for(n=o.length;b<n;b++)m.push(o[b])}return g(c.uniq(m))},and:function(c){for(var c=g(c),m=this.length,h=0,e=this.length+c.length;m<e;m++,h++)this[m]=c[h];return this},is:function(f,m){var h,e;h=0;for(e=this.length;h<e;h++)if(c.is(this[h],f,m))return!0;return!1}},!0)})(ender)})();
(function(){var j={exports:{}};(function(g,c,f){typeof j!="undefined"&&j.exports?j.exports=c():typeof f.define!="undefined"&&f.define=="function"&&f.define.amd?define(g,c):f[g]=c()})("bonzo",function(){function g(a,d,k){for(var i=0,b=a.length;i<b;i++)d.call(k||a[i],a[i],i,a);return a}function c(a,d,k){for(var i=0,b=a.length;i<b;i++)a[i]&&a[i].nodeName&&a[i].nodeType==1&&(c(a[i].childNodes,d,k),d.call(k||a[i],a[i],i,a));return a}function f(a){return a.replace(/-(.)/g,function(a,d){return d.toUpperCase()})}
function m(a){a[O]("data-node-uid")||a[N]("data-node-uid",++x);a=a[O]("data-node-uid");return i[a]||(i[a]={})}function h(a){(a=a[O]("data-node-uid"))&&delete i[a]}function e(a,d){try{return a===null||a===void 0?void 0:a==="true"?!0:a==="false"?!1:a==="null"?null:(d=parseFloat(a))==a?d:a}catch(k){}}function b(a,d,k,i,b){i=0;for(b=a.length;i<b;++i)if(d.call(k,a[i],i,a))return!0;return!1}function n(a){a=="transform"&&(a=P.transform)||/^transform-?[Oo]rigin$/.test(a)&&(a=P.transform+"Origin")||a=="float"&&
(a=P.cssFloat);return a?f(a):null}function o(a,d,k){var i=0,b=d||this,e=[],a=G&&typeof a=="string"&&a.charAt(0)!="<"?G(a):a;g(r(a),function(a){g(b,function(d){var c=!d[D]||d[D]&&!d[D][D]?function(){var a=d.cloneNode(!0),k,i;if(b.$&&b.cloneEvents){b.$(a).cloneEvents(d);k=b.$(a).find("*");i=b.$(d).find("*");for(var e=0;e<i.length;e++)b.$(k[e]).cloneEvents(i[e])}return a}():d;k(a,c);e[i]=c;i++})},this);g(e,function(a,d){b[d]=a});b.length=i;return b}function j(a,d){return typeof d=="function"?d(a):d}
function s(a){this.length=0;if(a){a=typeof a!=="string"&&!a.nodeType&&typeof a.length!=="undefined"?a:[a];this.length=a.length;for(var d=0;d<a.length;d++)this[d]=a[d]}}function r(a){return typeof a=="string"?t.create(a):a&&a.nodeName&&a.nodeType==1?[a]:a}function w(a,d,k){var i=this[0];if(!i)return this;if(a==null&&d==null)return(y(i)?{x:E.pageXOffset||v.scrollLeft,y:E.pageYOffset||v.scrollTop}:{x:i.scrollLeft,y:i.scrollTop})[k];y(i)?E.scrollTo(a,d):(a!=null&&(i.scrollLeft=a),d!=null&&(i.scrollTop=
d));return this}function y(a){return a===E||/^(?:body|html)$/i.test(a.tagName)}function t(a,d){return new s(a,d)}var E=window,z=E.document,v=z.documentElement,D="parentNode",G=null,l=/^(checked|value|selected)$/i,C=/^(select|fieldset|table|tbody|tfoot|td|tr|colgroup)$/i,H=["<table>","</table>",1],q=["<table><tbody><tr>","</tr></tbody></table>",3],B=["<select>","</select>",1],A=["_","",0,1],F={thead:H,tbody:H,tfoot:H,colgroup:H,caption:H,tr:["<table><tbody>","</tbody></table>",2],th:q,td:q,col:["<table><colgroup>",
"</colgroup></table>",2],fieldset:["<form>","</form>",1],legend:["<form><fieldset>","</fieldset></form>",2],option:B,optgroup:B,script:A,style:A,link:A,param:A,base:A},I=/^(checked|selected)$/,J=/msie/i.test(navigator.userAgent),K,L,d,i={},x=0,a=/^-?[\d\.]+$/,k=/^data-(.+)$/,N="setAttribute",O="getAttribute",P=function(){var a=z.createElement("p");a.innerHTML='<a href="#x">x</a><table style="float:left;"></table>';return{hrefExtended:a.getElementsByTagName("a")[0][O]("href")!="#x",autoTbody:a.getElementsByTagName("tbody").length!==
0,computedStyle:z.defaultView&&z.defaultView.getComputedStyle,cssFloat:a.getElementsByTagName("table")[0].style.styleFloat?"styleFloat":"cssFloat",transform:function(){var d=["webkitTransform","MozTransform","OTransform","msTransform","Transform"],k;for(k=0;k<d.length;k++)if(d[k]in a.style)return d[k]}(),classList:"classList"in a}}(),W=/(^\s*|\s*$)/g,U=/\s+/,T=String.prototype.toString,M={lineHeight:1,zoom:1,zIndex:1,opacity:1,boxFlex:1,WebkitBoxFlex:1,MozBoxFlex:1},Q=String.prototype.trim?function(a){return a.trim()}:
function(a){return a.replace(W,"")},R=P.computedStyle?function(a,d){var k=null,i=z.defaultView.getComputedStyle(a,"");i&&(k=i[d]);return a.style[d]||k}:J&&v.currentStyle?function(a,d){if(d=="opacity"){var k=100;try{k=a.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(i){try{k=a.filters("alpha").opacity}catch(b){}}return k/100}k=a.currentStyle?a.currentStyle[d]:null;return a.style[d]||k}:function(a,d){return a.style[d]};P.classList?(K=function(a,d){return a.classList.contains(d)},L=function(a,
d){a.classList.add(d)},d=function(a,d){a.classList.remove(d)}):(K=function(a,d){return RegExp("(^|\\s+)"+d+"(\\s+|$)").test(a.className)},L=function(a,d){a.className=Q(a.className+" "+d)},d=function(a,d){a.className=Q(a.className.replace(RegExp("(^|\\s+)"+d+"(\\s+|$)")," "))});s.prototype={get:function(a){return this[a]||null},each:function(a,d){return g(this,a,d)},deepEach:function(a,d){return c(this,a,d)},map:function(a,d){var k=[],i,b;for(b=0;b<this.length;b++)i=a.call(this,this[b],b),d?d(i)&&
k.push(i):k.push(i);return k},html:function(a,d){function k(d){g(r(a),function(a){d.appendChild(a)})}var i=d?v.textContent===void 0?"innerText":"textContent":"innerHTML";return typeof a!=="undefined"?this.empty().each(function(b){if(!d&&C.test(b.tagName))k(b);else try{b[i]=a}catch(e){k(b)}}):this[0]?this[0][i]:""},text:function(a){return this.html(a,1)},append:function(a){return this.each(function(d){g(r(a),function(a){d.appendChild(a)})})},prepend:function(a){return this.each(function(d){var k=d.firstChild;
g(r(a),function(a){d.insertBefore(a,k)})})},appendTo:function(a,d){return o.call(this,a,d,function(a,d){a.appendChild(d)})},prependTo:function(a,d){return o.call(this,a,d,function(a,d){a.insertBefore(d,a.firstChild)})},before:function(a){return this.each(function(d){g(t.create(a),function(a){d[D].insertBefore(a,d)})})},after:function(a){return this.each(function(d){g(t.create(a),function(a){d[D].insertBefore(a,d.nextSibling)})})},insertBefore:function(a,d){return o.call(this,a,d,function(a,d){a[D].insertBefore(d,
a)})},insertAfter:function(a,d){return o.call(this,a,d,function(a,d){var k=a.nextSibling;k?a[D].insertBefore(d,k):a[D].appendChild(d)})},replaceWith:function(a){this.deepEach(h);return this.each(function(d){d.parentNode.replaceChild(t.create(a)[0],d)})},addClass:function(a){a=T.call(a).split(U);return this.each(function(d){g(a,function(a){a&&!K(d,j(d,a))&&L(d,j(d,a))})})},removeClass:function(a){a=T.call(a).split(U);return this.each(function(k){g(a,function(a){a&&K(k,j(k,a))&&d(k,j(k,a))})})},hasClass:function(a){a=
T.call(a).split(U);return b(this,function(d){return b(a,function(a){return a&&K(d,a)})})},toggleClass:function(a,k){a=T.call(a).split(U);return this.each(function(i){g(a,function(a){a&&(typeof k!=="undefined"?k?L(i,a):d(i,a):K(i,a)?d(i,a):L(i,a))})})},show:function(a){return this.each(function(d){d.style.display=a||""})},hide:function(){return this.each(function(a){a.style.display="none"})},toggle:function(a,d){this.each(function(a){a.style.display=a.offsetWidth||a.offsetHeight?"none":d||""});a&&
a();return this},first:function(){return t(this.length?this[0]:[])},last:function(){return t(this.length?this[this.length-1]:[])},next:function(){return this.related("nextSibling")},previous:function(){return this.related("previousSibling")},parent:function(){return this.related(D)},related:function(a){return this.map(function(d){for(d=d[a];d&&d.nodeType!==1;)d=d[a];return d||0},function(a){return a})},focus:function(){this.length&&this[0].focus();return this},blur:function(){return this.each(function(a){a.blur()})},
css:function(d,k,i){if(k===void 0&&typeof d=="string"){k=this[0];if(!k)return null;if(k===z||k===E)return i=k===z?t.doc():t.viewport(),d=="width"?i.width:d=="height"?i.height:"";return(d=n(d))?R(k,d):null}var b=d;typeof d=="string"&&(b={},b[d]=k);if(J&&b.opacity)b.filter="alpha(opacity="+b.opacity*100+")",b.zoom=d.zoom||1,delete b.opacity;return this.each(function(d,k,i){for(var e in b)b.hasOwnProperty(e)&&(i=b[e],(k=n(e))&&a.test(i)&&!(k in M)&&(i+="px"),d.style[k]=j(d,i))})},offset:function(a,d){if(typeof a==
"number"||typeof d=="number")return this.each(function(k){var i=t(k),b=i.css("position"),e=i.offset(),c=b=="relative",u=[parseInt(i.css("left"),10),parseInt(i.css("top"),10)];b=="static"&&i.css("position","relative");isNaN(u[0])&&(u[0]=c?0:k.offsetLeft);isNaN(u[1])&&(u[1]=c?0:k.offsetTop);a!=null&&(k.style.left=a-e.left+u[0]+"px");d!=null&&(k.style.top=d-e.top+u[1]+"px")});if(!this[0])return{top:0,left:0,height:0,width:0};for(var k=this[0],i=k.offsetWidth,b=k.offsetHeight,e=k.offsetTop,c=k.offsetLeft;k=
k.offsetParent;)e+=k.offsetTop,c+=k.offsetLeft,k!=document.body&&(e-=k.scrollTop,c-=k.scrollLeft);return{top:e,left:c,height:b,width:i}},dim:function(){if(!this.length)return{height:0,width:0};var a=this[0],d=!a.offsetWidth&&!a.offsetHeight?function(d,k){k={position:a.style.position||"",visibility:a.style.visibility||"",display:a.style.display||""};d.first().css({position:"absolute",visibility:"hidden",display:"block"});return k}(this):null,k=a.offsetWidth,i=a.offsetHeight;d&&this.first().css(d);
return{height:i,width:k}},attr:function(a,d){var k=this[0];if(typeof a!="string"&&!(a instanceof String)){for(var i in a)a.hasOwnProperty(i)&&this.attr(i,a[i]);return this}return typeof d=="undefined"?!k?null:l.test(a)?I.test(a)&&typeof k[a]=="string"?!0:k[a]:(a=="href"||a=="src")&&P.hrefExtended?k[O](a,2):k[O](a):this.each(function(k){l.test(a)?k[a]=j(k,d):k[N](a,j(k,d))})},removeAttr:function(a){return this.each(function(d){I.test(a)?d[a]=!1:d.removeAttribute(a)})},val:function(a){return typeof a==
"string"?this.attr("value",a):this.length?this[0].value:null},data:function(a,d){var i=this[0],b,c;if(typeof d==="undefined"){if(!i)return null;b=m(i);return typeof a==="undefined"?(g(i.attributes,function(a){(c=(""+a.name).match(k))&&(b[f(c[1])]=e(a.value))}),b):(typeof b[a]==="undefined"&&(b[a]=e(this.attr("data-"+(a?a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase():a)))),b[a])}else return this.each(function(k){m(k)[a]=d})},remove:function(){this.deepEach(h);return this.each(function(a){a[D]&&
a[D].removeChild(a)})},empty:function(){return this.each(function(a){for(c(a.childNodes,h);a.firstChild;)a.removeChild(a.firstChild)})},detach:function(){return this.map(function(a){return a[D].removeChild(a)})},scrollTop:function(a){return w.call(this,null,a,"y")},scrollLeft:function(a){return w.call(this,a,null,"x")}};t.setQueryEngine=function(a){G=a;delete t.setQueryEngine};t.aug=function(a,d){for(var k in a)a.hasOwnProperty(k)&&((d||s.prototype)[k]=a[k])};t.create=function(a){return typeof a==
"string"&&a!==""?function(){var d=/^\s*<([^\s>]+)/.exec(a),k=z.createElement("div"),i=[],b=d?F[d[1].toLowerCase()]:null,e=b?b[2]+1:1,c=b&&b[3],x=D,f=P.autoTbody&&b&&b[0]=="<table>"&&!/<tbody/i.test(a);for(k.innerHTML=b?b[0]+a+b[1]:a;e--;)k=k.firstChild;if(c&&k&&k.nodeType!==1)k=k.nextSibling;do(!d||k.nodeType==1)&&(!f||k.tagName.toLowerCase()!="tbody")&&i.push(k);while(k=k.nextSibling);g(i,function(a){a[x]&&a[x].removeChild(a)});return i}():a&&a.nodeName&&a.nodeType==1?[a.cloneNode(!0)]:[]};t.doc=
function(){var a=t.viewport();return{width:Math.max(z.body.scrollWidth,v.scrollWidth,a.width),height:Math.max(z.body.scrollHeight,v.scrollHeight,a.height)}};t.firstChild=function(a){for(var a=a.childNodes,d=0,k=a&&a.length||0,i;d<k;d++)a[d].nodeType===1&&(i=a[k=d]);return i};t.viewport=function(){return{width:J?v.clientWidth:self.innerWidth,height:J?v.clientHeight:self.innerHeight}};t.isAncestor="compareDocumentPosition"in v?function(a,d){return(a.compareDocumentPosition(d)&16)==16}:"contains"in v?
function(a,d){return a!==d&&a.contains(d)}:function(a,d){for(;d=d[D];)if(d===a)return!0;return!1};return t},this);provide("bonzo",j.exports);(function(g){function c(c){for(var f=[],e=0,b=0,g,o,j;o=c[e];++e){j=!1;for(g=0;g<f.length;++g)if(f[g]===o){j=!0;break}j||(f[b++]=o)}return f}var f=require("bonzo");f.setQueryEngine(g);g.ender(f);g.ender(f(),!0);g.ender({create:function(c){return g(f.create(c))}});g.id=function(c){return g([document.getElementById(c)])};g.ender({parents:function(f,h){if(!this.length)return this;
var e=g(f),b,j,o,p=[];b=0;for(j=this.length;b<j;b++)for(o=this[b];o=o.parentNode;){var s;a:{for(s=0;s<e.length;s++)if(e[s]===o)break a;s=-1}if(~s&&(p.push(o),h))break}return g(c(p))},parent:function(){return g(c(f(this).parent()))},closest:function(c){return this.parents(c,!0)},first:function(){return g(this.length?this[0]:this)},last:function(){return g(this.length?this[this.length-1]:[])},next:function(){return g(f(this).next())},previous:function(){return g(f(this).previous())},appendTo:function(c){return f(this.selector).appendTo(c,
this)},prependTo:function(c){return f(this.selector).prependTo(c,this)},insertAfter:function(c){return f(this.selector).insertAfter(c,this)},insertBefore:function(c){return f(this.selector).insertBefore(c,this)},siblings:function(){var c,f,e,b=[];c=0;for(f=this.length;c<f;c++){for(e=this[c];e=e.previousSibling;)e.nodeType==1&&b.push(e);for(e=this[c];e=e.nextSibling;)e.nodeType==1&&b.push(e)}return g(b)},children:function(){var m,h,e,b=[];m=0;for(h=this.length;m<h;m++)if(e=f.firstChild(this[m]))for(b.push(e);e=
e.nextSibling;)e.nodeType==1&&b.push(e);return g(c(b))},height:function(c){return typeof c=="undefined"?f(this).dim().height:this.css("height",c)},width:function(c){return typeof c=="undefined"?f(this).dim().width:this.css("width",c)}},!0)})(ender)})();
(function(){var j={exports:{}};(function(g,c){typeof j!="undefined"&&j.exports?j.exports=c():typeof define=="function"&&define.amd?define(c):this[g]=c()})("reqwest",function(){function g(b,c,e){return function(){if(b&&b[v]==4)b.onreadystatechange=B,E.test(b.status)?c(b):e(b)}}function c(b){q=b}function f(b,e,f,d){var e=C++,f=b.jsonpCallback||"callback",i=b.jsonpCallbackName||j.getcallbackPrefix(e),x=RegExp("((^|\\?|&)"+f+")=([^&]+)"),a=d.match(x),k=t.createElement("script"),N=0,h=navigator.userAgent.indexOf("MSIE 10.0")!==
-1;a?a[3]==="?"?d=d.replace(x,"$1="+i):i=a[3]:d=d+(/\?/.test(d)?"&":"?")+(f+"="+i);y[i]=c;k.type="text/javascript";k.src=d;k.async=!0;if(typeof k.onreadystatechange!=="undefined"&&!h)k.event="onclick",k.htmlFor=k.id="_reqwest_"+e;k.onload=k.onreadystatechange=function(){if(k[v]&&k[v]!=="complete"&&k[v]!=="loaded"||N)return!1;k.onload=k.onreadystatechange=null;k.onclick&&k.onclick();b.success&&b.success(q);q=void 0;l.removeChild(k);N=1};l.appendChild(k)}function m(b,c,e){var d=(b.method||"GET").toUpperCase(),
i=typeof b==="string"?b:b.url,x=b.processData!==!1&&b.data&&typeof b.data!=="string"?j.toQueryString(b.data):b.data||null,a;if((b.type=="jsonp"||d=="GET")&&x)i=i+(/\?/.test(i)?"&":"?")+x,x=null;if(b.type=="jsonp")return f(b,c,e,i);a=I();a.open(d,i,!0);var d=b.headers||{},k;d.Accept=d.Accept||F.accept[b.type]||F.accept["*"];if(!b.crossOrigin&&!d[G])d[G]=F.requestedWith;d[D]||(d[D]=b.contentType||F.contentType);for(k in d)d.hasOwnProperty(k)&&a.setRequestHeader(k,d[k]);if(typeof b.withCredentials!==
"undefined"&&typeof a.withCredentials!=="undefined")a.withCredentials=!!b.withCredentials;a.onreadystatechange=g(a,c,e);b.before&&b.before(a);a.send(x);return a}function h(c,e){this.o=c;this.fn=e;b.apply(this,arguments)}function e(b){return(b=b.match(/\.(json|jsonp|html|xml)(\?|$)/))?b[1]:"js"}function b(b,c){function f(a){b.timeout&&clearTimeout(i.timeout);for(i.timeout=null;i._completeHandlers.length>0;)i._completeHandlers.shift()(a)}function d(a,d,b){i._responseArgs.resp=a;i._responseArgs.msg=
d;i._responseArgs.t=b;for(i._erred=!0;i._errorHandlers.length>0;)i._errorHandlers.shift()(a,d,b);f(a)}this.url=typeof b=="string"?b:b.url;this.timeout=null;this._fulfilled=!1;this._fulfillmentHandlers=[];this._errorHandlers=[];this._completeHandlers=[];this._erred=!1;this._responseArgs={};var i=this,x=b.type||e(this.url),c=c||function(){};if(b.timeout)this.timeout=setTimeout(function(){i.abort()},b.timeout);b.success&&this._fulfillmentHandlers.push(function(){b.success.apply(b,arguments)});b.error&&
this._errorHandlers.push(function(){b.error.apply(b,arguments)});b.complete&&this._completeHandlers.push(function(){b.complete.apply(b,arguments)});this.request=m(b,function(a){var k=a.responseText;if(k)switch(x){case "json":try{a=y.JSON?y.JSON.parse(k):eval("("+k+")")}catch(b){return d(a,"Could not parse JSON in response",b)}break;case "js":a=eval(k);break;case "html":a=k;break;case "xml":a=a.responseXML}i._responseArgs.resp=a;i._fulfilled=!0;for(c(a);i._fulfillmentHandlers.length>0;)i._fulfillmentHandlers.shift()(a);
f(a)},d)}function j(b,c){return new h(b,c)}function o(b){return b?b.replace(/\r?\n/g,"\r\n"):""}function p(b,c){var e=b.name,d=b.tagName.toLowerCase(),i=function(a){a&&!a.disabled&&c(e,o(a.attributes.value&&a.attributes.value.specified?a.value:a.text))};if(!b.disabled&&e)switch(d){case "input":if(!/reset|button|image|file/i.test(b.type)){var i=/checkbox/i.test(b.type),d=/radio/i.test(b.type),x=b.value;(!i&&!d||b.checked)&&c(e,o(i&&x===""?"on":x))}break;case "textarea":c(e,o(b.value));break;case "select":if(b.type.toLowerCase()===
"select-one")i(b.selectedIndex>=0?b.options[b.selectedIndex]:null);else for(d=0;b.length&&d<b.length;d++)b.options[d].selected&&i(b.options[d])}}function s(){var b=this,c,e,d,i=function(i,a){for(var k=0;k<a.length;k++){var c=i[z](a[k]);for(d=0;d<c.length;d++)p(c[d],b)}};for(e=0;e<arguments.length;e++)c=arguments[e],/input|select|textarea/i.test(c.tagName)&&p(c,b),i(c,["input","select","textarea"])}function r(){return j.toQueryString(j.serializeArray.apply(null,arguments))}function w(){var b={};s.apply(function(c,
e){c in b?(b[c]&&!A(b[c])&&(b[c]=[b[c]]),b[c].push(e)):b[c]=e},arguments);return b}var y=window,t=document,E=/^20\d$/,z="getElementsByTagName",v="readyState",D="Content-Type",G="X-Requested-With",l=t[z]("head")[0],C=0,H="reqwest_"+ +new Date,q,B=function(){},A=typeof Array.isArray=="function"?Array.isArray:function(b){return b instanceof Array},F={contentType:"application/x-www-form-urlencoded",requestedWith:"XMLHttpRequest",accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",
xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},I=y.XMLHttpRequest?function(){return new XMLHttpRequest}:function(){return new ActiveXObject("Microsoft.XMLHTTP")};h.prototype={abort:function(){this.request.abort()},retry:function(){b.call(this,this.o,this.fn)},then:function(b,c){this._fulfilled?b(this._responseArgs.resp):this._erred?c(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):
(this._fulfillmentHandlers.push(b),this._errorHandlers.push(c));return this},always:function(b){this._fulfilled||this._erred?b(this._responseArgs.resp):this._completeHandlers.push(b);return this},fail:function(b){this._erred?b(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(b);return this}};j.serializeArray=function(){var b=[];s.apply(function(c,e){b.push({name:c,value:e})},arguments);return b};j.serialize=function(){if(arguments.length===0)return"";var b,
c=Array.prototype.slice.call(arguments,0);(b=c.pop())&&b.nodeType&&c.push(b)&&(b=null);b&&(b=b.type);return(b=="map"?w:b=="array"?j.serializeArray:r).apply(null,c)};j.toQueryString=function(b){var c="",e,d=encodeURIComponent,i=function(a,b){c+=d(a)+"="+d(b)+"&"};if(A(b))for(e=0;b&&e<b.length;e++)i(b[e].name,b[e].value);else for(var f in b)if(Object.hasOwnProperty.call(b,f)){var a=b[f];if(A(a))for(e=0;e<a.length;e++)i(f,a[e]);else i(f,b[f])}return c.replace(/&$/,"").replace(/%20/g,"+")};j.getcallbackPrefix=
function(){return H};j.compat=function(b,c){if(b)b.type&&(b.method=b.type)&&delete b.type,b.dataType&&(b.type=b.dataType),b.jsonpCallback&&(b.jsonpCallbackName=b.jsonpCallback)&&delete b.jsonpCallback,b.jsonp&&(b.jsonpCallback=b.jsonp);return new h(b,c)};return j});provide("reqwest",j.exports);(function(g){var c=require("reqwest"),f=function(f){return function(){var e=(this&&this.length>0?this:[]).concat(Array.prototype.slice.call(arguments,0));return c[f].apply(null,e)}},m=f("serialize"),f=f("serializeArray");
g.ender({ajax:c,serialize:m,serializeArray:f,toQueryString:c.toQueryString});g.ender({serialize:m,serializeArray:f},!0)})(ender)})();
(function(){var j={exports:{}};(function(g,c,f){typeof j!="undefined"&&j.exports?j.exports=f():typeof define=="function"&&define.amd?define(f):c[g]=f()})("bean",this,function(g,c){var g=g||"bean",c=c||this,f=window,m=c[g],h=/[^\.]*(?=\..*)\.|.*/,e=/\..*/,b=document||{},j=b.documentElement||{},o=j.addEventListener,p=o?"addEventListener":"attachEvent",s={},r=Array.prototype.slice,w=function(b,d){return b.split(d||" ")},y=function(b,d,i){for(i=0;i<d.length;i++)d[i]&&(b[d[i]]=1);return b}({},w("click dblclick mouseup mousedown contextmenu mousewheel mousemultiwheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange focus blur change reset select submit load unload beforeunload resize move DOMContentLoaded readystatechange message error abort scroll "+
(o?"show input invalid touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend textinputreadystatechange pageshow pagehide popstate hashchange offline online afterprint beforeprint dragstart dragenter dragover dragleave drag drop dragend loadstart progress suspend emptied stalled loadmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate play pause ratechange volumechange cuechange checking noupdate downloading cached updateready obsolete ":
""))),t=function(){var b="compareDocumentPosition"in j?function(d,b){return b.compareDocumentPosition&&(b.compareDocumentPosition(d)&16)===16}:"contains"in j?function(d,b){b=b.nodeType===9||b===window?j:b;return b!==d&&b.contains(d)}:function(d,b){for(;d=d.parentNode;)if(d===b)return 1;return 0},d=function(d){d=d.relatedTarget;return!d?d==null:d!==this&&d.prefix!=="xul"&&!/document/.test(this.toString())&&!b(d,this)};return{mouseenter:{base:"mouseover",condition:d},mouseleave:{base:"mouseout",condition:d},
mousewheel:{base:/Firefox/.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel"}}}(),E=function(){var c=w("altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which propertyName"),d=c.concat(w("button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement")),i=d.concat(w("wheelDelta wheelDeltaX wheelDeltaY wheelDeltaZ axis")),
e=c.concat(w("char charCode key keyCode keyIdentifier keyLocation location")),a=c.concat(w("data")),k=c.concat(w("touches targetTouches changedTouches scale rotation")),N=c.concat(w("data origin source")),l=c.concat(w("state")),h=/over|out/,g=[{reg:/key/i,fix:function(a,d){d.keyCode=a.keyCode||a.which;return e}},{reg:/click|mouse(?!(.*wheel|scroll))|menu|drag|drop/i,fix:function(a,k,i){k.rightClick=a.which===3||a.button===2;k.pos={x:0,y:0};if(a.pageX||a.pageY)k.clientX=a.pageX,k.clientY=a.pageY;else if(a.clientX||
a.clientY)k.clientX=a.clientX+b.body.scrollLeft+j.scrollLeft,k.clientY=a.clientY+b.body.scrollTop+j.scrollTop;if(h.test(i))k.relatedTarget=a.relatedTarget||a[(i=="mouseover"?"from":"to")+"Element"];return d}},{reg:/mouse.*(wheel|scroll)/i,fix:function(){return i}},{reg:/^text/i,fix:function(){return a}},{reg:/^touch|^gesture/i,fix:function(){return k}},{reg:/^message$/i,fix:function(){return N}},{reg:/^popstate$/i,fix:function(){return l}},{reg:/.*/,fix:function(){return c}}],m={},o=function(a,d,
k){if(arguments.length&&(this.originalEvent=a=a||((d.ownerDocument||d.document||d).parentWindow||f).event,this.isNative=k,this.isBean=!0,a)){var b=a.type,i=a.target||a.srcElement,c,e,u;this.target=i&&i.nodeType===3?i.parentNode:i;if(k){u=m[b];if(!u){i=0;for(c=g.length;i<c;i++)if(g[i].reg.test(b)){m[b]=u=g[i].fix;break}}b=u(a,this,b);for(i=b.length;i--;)if(!((e=b[i])in this)&&e in a)this[e]=a[e]}}};o.prototype.preventDefault=function(){this.originalEvent.preventDefault?this.originalEvent.preventDefault():
this.originalEvent.returnValue=!1};o.prototype.stopPropagation=function(){this.originalEvent.stopPropagation?this.originalEvent.stopPropagation():this.originalEvent.cancelBubble=!0};o.prototype.stop=function(){this.preventDefault();this.stopPropagation();this.stopped=!0};o.prototype.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation();this.isImmediatePropagationStopped=function(){return!0}};o.prototype.isImmediatePropagationStopped=
function(){return this.originalEvent.isImmediatePropagationStopped&&this.originalEvent.isImmediatePropagationStopped()};o.prototype.clone=function(a){var d=new o(this,this.element,this.isNative);d.currentTarget=a;return d};return o}(),z=function(){var c=function(d,b,a,k){var c=a?function(c){var e=b.__beanDel?b.__beanDel.ft(c.target,d):this;if(a.apply(e,arguments)){if(c)c.currentTarget=e;return b.apply(d,k?r.call(arguments,c?0:1).concat(k):arguments)}}:function(a){b.__beanDel&&(a=a.clone(b.__beanDel?
b.__beanDel.ft(a.target,d):void 0));return b.apply(d,k?r.call(arguments,a?0:1).concat(k):arguments)};c.__beanDel=b.__beanDel;return c},d=function(d,e,a,k,l,h,g){var m=t[e];e=="unload"&&(a=H(q,d,e,a,k));m&&(m.condition&&(a=c(d,a,m.condition,h)),e=m.base||e);this.isNative=m=y[e]&&!!d[p];this.customType=!o&&!m&&e;this.element=d;this.type=e;this.original=k;this.namespaces=l;this.eventType=o||m?e:"propertychange";this.target=!o&&!m&&(d===b||d===f)?j:d;this[p]=!!this.target[p];this.root=g;this.handler=
c(d,a,null,h)};d.prototype.inNamespaces=function(d){var b,a,k=0;if(!d)return!0;if(!this.namespaces)return!1;for(b=d.length;b--;)for(a=this.namespaces.length;a--;)d[b]==this.namespaces[a]&&k++;return d.length===k};d.prototype.matches=function(d,b,a){return this.element===d&&(!b||this.original===b)&&(!a||this.handler===a)};return d}(),v=function(){var b={},d=function(i,c,a,k,e,f){var l=e?"r":"$";if(!c||c=="*")for(var h in b)h.charAt(0)==l&&d(i,h.substr(1),a,k,e,f);else{e=0;h=b[l+c];var g=i=="*";if(h)for(l=
h.length;e<l;e++)if((g||h[e].matches(i,a,k))&&!f(h[e],h,e,c))break}};return{has:function(d,c,a,k){if(k=b[(k?"r":"$")+c])for(c=k.length;c--;)if(!k[c].root&&k[c].matches(d,a,null))return!0;return!1},get:function(b,c,a,k){var e=[];d(b,c,a,null,k,function(a){return e.push(a)});return e},put:function(d){var c=!d.root&&!this.has(d.element,d.type,null,!1),a=(d.root?"r":"$")+d.type;(b[a]||(b[a]=[])).push(d);return c},del:function(i){d(i.element,i.type,null,i.handler,i.root,function(d,a,k){a.splice(k,1);d.removed=
!0;a.length===0&&delete b[(d.root?"r":"$")+d.type];return!1})},entries:function(){var d,c=[];for(d in b)d.charAt(0)=="$"&&(c=c.concat(b[d]));return c}}}(),D,G=function(c){D=arguments.length?c:b.querySelectorAll?function(d,b){return b.querySelectorAll(d)}:function(){throw Error("Bean: No selector engine installed");}},l=function(b,d){if(o||!d||!(b&&b.propertyName!="_on"+d)){var i=v.get(this,d||b.type,null,!1),c=i.length,a=0,b=new E(b,this,!0);if(d)b.type=d;for(;a<c&&!b.isImmediatePropagationStopped();a++)i[a].removed||
i[a].handler.call(this,b)}},C=o?function(b,d,i){b[i?"addEventListener":"removeEventListener"](d,l,!1)}:function(b,d,i,c){if(i)v.put(d=new z(b,c||d,function(a){l.call(b,a,c)},l,null,null,!0)),c&&b["_on"+c]==null&&(b["_on"+c]=0),d.target.attachEvent("on"+d.eventType,d.handler);else if(d=v.get(b,c||d,l,!0)[0])d.target.detachEvent("on"+d.eventType,d.handler),v.del(d)},H=function(b,d,i,c,a){return function(){c.apply(this,arguments);b(d,i,a)}},q=function(b,d,i,c){var d=d&&d.replace(e,""),d=v.get(b,d,null,
!1),a={},k,f;k=0;for(f=d.length;k<f;k++)if((!i||d[k].original===i)&&d[k].inNamespaces(c))v.del(d[k]),!a[d[k].eventType]&&d[k][p]&&(a[d[k].eventType]={t:d[k].eventType,c:d[k].type});for(k in a)v.has(b,a[k].t,null,!1)||C(b,a[k].t,!1,a[k].c)},B=function(b,d){var i=function(a,d){for(var i,c=typeof b=="string"?D(b,d):b;a&&a!==d;a=a.parentNode)for(i=c.length;i--;)if(c[i]===a)return a},c=function(a){var b=i(a.target,this);b&&d.apply(b,arguments)};c.__beanDel={ft:i,selector:b};return c},A=o?function(c,d,
i){var e=b.createEvent(c?"HTMLEvents":"UIEvents");e[c?"initEvent":"initUIEvent"](d,!0,!0,f,1);i.dispatchEvent(e)}:function(c,d,i){i=!o&&!c&&(i===b||i===f)?j:i;c?i.fireEvent("on"+d,b.createEventObject()):i["_on"+d]++},F=function(b,d,i){var c=typeof d=="string",a,k;if(c&&d.indexOf(" ")>0){d=w(d);for(k=d.length;k--;)F(b,d[k],i);return b}if((k=c&&d.replace(e,""))&&t[k])k=t[k].base;if(!d||c){if(d=c&&d.replace(h,""))d=w(d,".");q(b,k,i,d)}else if(typeof d=="function")q(b,null,d);else for(a in d)d.hasOwnProperty(a)&&
F(b,a,d[a]);return b},I=function(b,d,i,c){var a,k,f,l,g,m;if(i===void 0&&typeof d=="object")for(a in d)d.hasOwnProperty(a)&&I.call(this,b,a,d[a]);else{typeof i=="function"?(l=r.call(arguments,3),c=a=i):(a=c,l=r.call(arguments,4),c=B(i,a,D));k=w(d);this===s&&(c=H(F,b,d,c,a));for(f=k.length;f--;)m=v.put(g=new z(b,k[f].replace(e,""),c,a,w(k[f].replace(h,""),"."),l,!1)),g[p]&&m&&C(b,g.eventType,!0,g.customType);return b}},J={on:I,add:function(b,d,i,c){return I.apply(null,typeof i!="string"?r.call(arguments):
[b,i,d,c].concat(arguments.length>3?r.call(arguments,5):[]))},one:function(){return I.apply(s,arguments)},off:F,remove:F,clone:function(b,d,i){for(var d=v.get(d,i,null,!1),i=d.length,c=0,a,k;c<i;c++)if(d[c].original)a=[b,d[c].type],(k=d[c].handler.__beanDel)&&a.push(k.selector),a.push(d[c].original),I.apply(null,a);return b},fire:function(b,d,i){var c=w(d),a,k,f,l;for(a=c.length;a--;){d=c[a].replace(e,"");if(f=c[a].replace(h,""))f=w(f,".");if(!f&&!i&&b[p])A(y[d],d,b);else{l=v.get(b,d,null,!1);i=[!1].concat(i);
d=0;for(k=l.length;d<k;d++)l[d].inNamespaces(f)&&l[d].handler.apply(b,i)}}return b},setSelectorEngine:G,noConflict:function(){c[g]=m;return this}};if(f.attachEvent){var K=function(){var b,d=v.entries();for(b in d)d[b].type&&d[b].type!=="unload"&&F(d[b].element,d[b].type);f.detachEvent("onunload",K);f.CollectGarbage&&f.CollectGarbage()};f.attachEvent("onunload",K)}G();return J});provide("bean",j.exports);(function(g){for(var c=require("bean"),f=function(b,e){var f=e?[e]:[];return function(){for(var h=
0,g=this.length;h<g;h++)!arguments.length&&b=="on"&&e&&(b="fire"),c[b].apply(this,[this[h]].concat(f,Array.prototype.slice.call(arguments,0)));return this}},m=f("add"),h=f("on"),e=f("one"),b=f("off"),j=f("fire"),o=f("clone"),m={on:h,addListener:h,bind:h,listen:h,delegate:m,one:e,off:b,unbind:b,unlisten:b,removeListener:b,undelegate:b,emit:j,trigger:j,cloneEvents:o,hover:function(b,e,f){for(f=this.length;f--;)c.on.call(this,this[f],"mouseenter",b),c.on.call(this,this[f],"mouseleave",e);return this}},
h="blur change click dblclick error focus focusin focusout keydown keypress keyup load mousedown mouseenter mouseleave mouseout mouseover mouseup mousemove resize scroll select submit unload".split(" "),e=h.length;e--;)m[h[e]]=f("on",h[e]);c.setSelectorEngine(g);g.ender(m,!0)})(ender)})();window.Modernizr=function(j,g,c){var f={},m=g.documentElement,h=g.createElement("modernizr"),h=h.style,e=" -webkit- -moz- -o- -ms- ".split(" "),b={},n=[],o=n.slice,p,s=function(b,c,e,f){var h,o,l=g.createElement("div"),j=g.body,n=j||g.createElement("body");if(parseInt(e,10))for(;e--;)h=g.createElement("div"),h.id=f?f[e]:"modernizr"+(e+1),l.appendChild(h);e=['&#173;<style id="smodernizr">',b,"</style>"].join("");l.id="modernizr";(j?l:n).innerHTML+=e;n.appendChild(l);if(!j)n.style.background="",n.style.overflow=
"hidden",o=m.style.overflow,m.style.overflow="hidden",m.appendChild(n);b=c(l,b);j?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),m.style.overflow=o);return!!b},r={}.hasOwnProperty,w;w=typeof r!=="undefined"&&typeof r.call!=="undefined"?function(b,c){return r.call(b,c)}:function(b,c){return c in b&&typeof b.constructor.prototype[c]==="undefined"};if(!Function.prototype.bind)Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var e=o.call(arguments,1),
f=function(){if(this instanceof f){var h=function(){};h.prototype=c.prototype;var h=new h,g=c.apply(h,e.concat(o.call(arguments)));if(Object(g)===g)return g;return h}else return c.apply(b,e.concat(o.call(arguments)))};return f};b.touch=function(){var b;"ontouchstart"in j||j.DocumentTouch&&g instanceof DocumentTouch?b=!0:s(["@media (",e.join("touch-enabled),("),"modernizr){#modernizr{top:9px;position:absolute}}"].join(""),function(c){b=c.offsetTop===9});return b};b.localstorage=function(){try{return localStorage.setItem("modernizr",
"modernizr"),localStorage.removeItem("modernizr"),!0}catch(b){return!1}};b.sessionstorage=function(){try{return sessionStorage.setItem("modernizr","modernizr"),sessionStorage.removeItem("modernizr"),!0}catch(b){return!1}};for(var y in b)w(b,y)&&(p=y.toLowerCase(),f[p]=b[y](),n.push((f[p]?"":"no-")+p));f.addTest=function(b,e){if(typeof b=="object")for(var h in b)w(b,h)&&f.addTest(h,b[h]);else{b=b.toLowerCase();if(f[b]!==c)return f;e=typeof e=="function"?e():e;typeof!0!=="undefined"&&(m.className+=
" "+(e?"":"no-")+b);f[b]=e}return f};h.cssText="";h=null;f._version="2.6.2";f._prefixes=e;f.testStyles=s;m.className=m.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(" js "+n.join(" "));return f}(this,this.document);Modernizr.addTest("contenteditable","contentEditable"in document.documentElement);/*
 MIT License (c) copyright B Cavalier & J Hann */
(function(j){j(function(){function g(b,e,f,h){return c(b).then(e,f,h)}function c(c){var h;if(!(c instanceof f))b(c)?(h=e(),c.then(function(b){h.resolve(b)},function(b){h.reject(b)},function(b){h.progress(b)}),c=h.promise):c=m(c);return c}function f(b){this.then=b}function m(b){return new f(function(e){try{return c(e?e(b):b)}catch(f){return h(f)}})}function h(b){return new f(function(e,f){try{return f?c(f(b)):h(b)}catch(l){return h(l)}})}function e(){function b(c,e,f){return p(c,e,f)}function g(b){return r(b)}
function m(b){return r(h(b))}function l(b){return y(b)}var o,j,n,p,y,r;o=new f(b);o={then:b,resolve:g,reject:m,progress:l,promise:o,resolver:{resolve:g,reject:m,progress:l}};j=[];n=[];p=function(b,c,f){var h,d;h=e();d=typeof f==="function"?function(d){try{h.progress(f(d))}catch(b){h.progress(b)}}:function(d){h.progress(d)};j.push(function(i){i.then(b,c).then(h.resolve,h.reject,d)});n.push(d);return h.promise};y=function(b){s(n,b);return b};r=function(b){b=c(b);p=b.then;r=c;y=w;s(j,b);n=j=z;return b};
return o}function b(b){return b&&typeof b.then==="function"}function j(b,c,f,h,m){r(2,arguments);return g(b,function(b){function o(a){d(a)}function j(a){v(a)}var n,p,s,y,r,v,d,i,x,a;x=b.length>>>0;n=Math.max(0,Math.min(c,x));s=[];p=x-n+1;y=[];r=e();if(n){i=r.progress;d=function(a){y.push(a);--p||(v=d=w,r.reject(y))};v=function(a){s.push(a);--n||(v=d=w,r.resolve(s))};for(a=0;a<x;++a)a in b&&g(b[a],j,o,i)}else r.resolve(s);return r.then(f,h,m)})}function o(b,c,e,f){r(1,arguments);return p(b,y).then(c,
e,f)}function p(b,c){return g(b,function(b){var f,h,m,o,j,n;m=h=b.length>>>0;f=[];n=e();if(m){o=function(b,e){g(b,c).then(function(b){f[e]=b;--m||n.resolve(f)},n.reject)};for(j=0;j<h;j++)j in b?o(b[j],j):--m}else n.resolve(f);return n.promise})}function s(b,c){for(var e,f=0;e=b[f++];)e(c)}function r(b,c){for(var e,f=c.length;f>b;)if(e=c[--f],e!=null&&typeof e!="function")throw Error("arg "+f+" must be a function");}function w(){}function y(b){return b}var t,E,z;g.defer=e;g.resolve=c;g.reject=function(b){return g(b,
h)};g.join=function(){return p(arguments,y)};g.all=o;g.map=p;g.reduce=function(b,c){var e=E.call(arguments,1);return g(b,function(b){var f;f=b.length;e[0]=function(b,e,h){return g(b,function(b){return g(e,function(e){return c(b,e,h,f)})})};return t.apply(b,e)})};g.any=function(b,c,e,f){return j(b,1,function(b){return c?c(b[0]):b[0]},e,f)};g.some=j;g.chain=function(b,c,e){var f=arguments.length>2;return g(b,function(b){b=f?e:b;c.resolve(b);return b},function(b){c.reject(b);return h(b)},c.progress)};
g.isPromise=b;f.prototype={always:function(b,c){return this.then(b,b,c)},otherwise:function(b){return this.then(z,b)},yield:function(b){return this.then(function(){return b})},spread:function(b){return this.then(function(c){return o(c,function(c){return b.apply(z,c)})})}};E=[].slice;t=[].reduce||function(b){var c,e,f,h,g;g=0;c=Object(this);h=c.length>>>0;e=arguments;if(e.length<=1)for(;;){if(g in c){f=c[g++];break}if(++g>=h)throw new TypeError;}else f=e[1];for(;g<h;++g)g in c&&(f=b(f,c[g],g,c));return f};
return g})})(function(j){typeof exports==="object"?module.exports=j():this.when=j()});(function(){var j=this,g=j._,c={},f=Array.prototype,m=Object.prototype,h=f.push,e=f.slice,b=f.concat,n=m.toString,o=m.hasOwnProperty,p=f.forEach,s=f.map,r=f.reduce,w=f.reduceRight,y=f.filter,t=f.every,E=f.some,z=f.indexOf,v=f.lastIndexOf,m=Array.isArray,D=Object.keys,G=Function.prototype.bind,l=function(a){if(a instanceof l)return a;if(!(this instanceof l))return new l(a);this._wrapped=a};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports)exports=module.exports=l;exports._=
l}else j._=l;l.VERSION="1.4.2";var C=l.each=l.forEach=function(a,d,b){if(a!=null)if(p&&a.forEach===p)a.forEach(d,b);else if(a.length===+a.length)for(var i=0,e=a.length;i<e;i++){if(d.call(b,a[i],i,a)===c)break}else for(i in a)if(l.has(a,i)&&d.call(b,a[i],i,a)===c)break};l.map=l.collect=function(a,d,b){var c=[];if(a==null)return c;if(s&&a.map===s)return a.map(d,b);C(a,function(a,i,e){c[c.length]=d.call(b,a,i,e)});return c};l.reduce=l.foldl=l.inject=function(a,d,b,c){var i=arguments.length>2;a==null&&
(a=[]);if(r&&a.reduce===r)return c&&(d=l.bind(d,c)),i?a.reduce(d,b):a.reduce(d);C(a,function(a,e,f){i?b=d.call(c,b,a,e,f):(b=a,i=!0)});if(!i)throw new TypeError("Reduce of empty array with no initial value");return b};l.reduceRight=l.foldr=function(a,d,b,c){var i=arguments.length>2;a==null&&(a=[]);if(w&&a.reduceRight===w)return c&&(d=l.bind(d,c)),arguments.length>2?a.reduceRight(d,b):a.reduceRight(d);var e=a.length;if(e!==+e)var f=l.keys(a),e=f.length;C(a,function(h,g,m){g=f?f[--e]:--e;i?b=d.call(c,
b,a[g],g,m):(b=a[g],i=!0)});if(!i)throw new TypeError("Reduce of empty array with no initial value");return b};l.find=l.detect=function(a,d,b){var c;H(a,function(a,i,e){if(d.call(b,a,i,e))return c=a,!0});return c};l.filter=l.select=function(a,d,b){var c=[];if(a==null)return c;if(y&&a.filter===y)return a.filter(d,b);C(a,function(a,i,e){d.call(b,a,i,e)&&(c[c.length]=a)});return c};l.reject=function(a,d,b){var c=[];if(a==null)return c;C(a,function(a,i,e){d.call(b,a,i,e)||(c[c.length]=a)});return c};
l.every=l.all=function(a,d,b){d||(d=l.identity);var i=!0;if(a==null)return i;if(t&&a.every===t)return a.every(d,b);C(a,function(a,e,f){if(!(i=i&&d.call(b,a,e,f)))return c});return!!i};var H=l.some=l.any=function(a,d,b){d||(d=l.identity);var i=!1;if(a==null)return i;if(E&&a.some===E)return a.some(d,b);C(a,function(a,e,f){if(i||(i=d.call(b,a,e,f)))return c});return!!i};l.contains=l.include=function(a,d){var b=!1;if(a==null)return b;if(z&&a.indexOf===z)return a.indexOf(d)!=-1;return b=H(a,function(a){return a===
d})};l.invoke=function(a,d){var b=e.call(arguments,2);return l.map(a,function(a){return(l.isFunction(d)?d:a[d]).apply(a,b)})};l.pluck=function(a,d){return l.map(a,function(a){return a[d]})};l.where=function(a,d){if(l.isEmpty(d))return[];return l.filter(a,function(a){for(var b in d)if(d[b]!==a[b])return!1;return!0})};l.max=function(a,d,b){if(!d&&l.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);if(!d&&l.isEmpty(a))return-Infinity;var c={computed:-Infinity};C(a,function(a,i,e){i=
d?d.call(b,a,i,e):a;i>=c.computed&&(c={value:a,computed:i})});return c.value};l.min=function(a,d,b){if(!d&&l.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);if(!d&&l.isEmpty(a))return Infinity;var c={computed:Infinity};C(a,function(a,i,e){i=d?d.call(b,a,i,e):a;i<c.computed&&(c={value:a,computed:i})});return c.value};l.shuffle=function(a){var d,b=0,c=[];C(a,function(a){d=l.random(b++);c[b-1]=c[d];c[d]=a});return c};var q=function(a){return l.isFunction(a)?a:function(d){return d[a]}};
l.sortBy=function(a,d,b){var c=q(d);return l.pluck(l.map(a,function(a,d,i){return{value:a,index:d,criteria:c.call(b,a,d,i)}}).sort(function(a,d){var b=a.criteria,c=d.criteria;if(b!==c){if(b>c||b===void 0)return 1;if(b<c||c===void 0)return-1}return a.index<d.index?-1:1}),"value")};var B=function(a,d,b,c){var i={},e=q(d);C(a,function(d,k){var f=e.call(b,d,k,a);c(i,f,d)});return i};l.groupBy=function(a,d,b){return B(a,d,b,function(a,d,b){(l.has(a,d)?a[d]:a[d]=[]).push(b)})};l.countBy=function(a,d,b){return B(a,
d,b,function(a,d){l.has(a,d)||(a[d]=0);a[d]++})};l.sortedIndex=function(a,d,b,c){for(var b=b==null?l.identity:q(b),d=b.call(c,d),i=0,e=a.length;i<e;){var f=i+e>>>1;b.call(c,a[f])<d?i=f+1:e=f}return i};l.toArray=function(a){if(!a)return[];if(a.length===+a.length)return e.call(a);return l.values(a)};l.size=function(a){return a.length===+a.length?a.length:l.keys(a).length};l.first=l.head=l.take=function(a,d,b){return d!=null&&!b?e.call(a,0,d):a[0]};l.initial=function(a,d,b){return e.call(a,0,a.length-
(d==null||b?1:d))};l.last=function(a,d,b){return d!=null&&!b?e.call(a,Math.max(a.length-d,0)):a[a.length-1]};l.rest=l.tail=l.drop=function(a,d,b){return e.call(a,d==null||b?1:d)};l.compact=function(a){return l.filter(a,function(a){return!!a})};var A=function(a,d,b){C(a,function(a){l.isArray(a)?d?h.apply(b,a):A(a,d,b):b.push(a)});return b};l.flatten=function(a,d){return A(a,d,[])};l.without=function(a){return l.difference(a,e.call(arguments,1))};l.uniq=l.unique=function(a,d,b,c){var b=b?l.map(a,b,
c):a,i=[],e=[];C(b,function(b,c){if(d?!c||e[e.length-1]!==b:!l.contains(e,b))e.push(b),i.push(a[c])});return i};l.union=function(){return l.uniq(b.apply(f,arguments))};l.intersection=function(a){var d=e.call(arguments,1);return l.filter(l.uniq(a),function(a){return l.every(d,function(d){return l.indexOf(d,a)>=0})})};l.difference=function(a){var d=b.apply(f,e.call(arguments,1));return l.filter(a,function(a){return!l.contains(d,a)})};l.zip=function(){for(var a=e.call(arguments),d=l.max(l.pluck(a,"length")),
b=Array(d),c=0;c<d;c++)b[c]=l.pluck(a,""+c);return b};l.object=function(a,d){for(var b={},c=0,i=a.length;c<i;c++)d?b[a[c]]=d[c]:b[a[c][0]]=a[c][1];return b};l.indexOf=function(a,d,b){if(a==null)return-1;var c=0,i=a.length;if(b)if(typeof b=="number")c=b<0?Math.max(0,i+b):b;else return c=l.sortedIndex(a,d),a[c]===d?c:-1;if(z&&a.indexOf===z)return a.indexOf(d,b);for(;c<i;c++)if(a[c]===d)return c;return-1};l.lastIndexOf=function(a,d,b){if(a==null)return-1;var c=b!=null;if(v&&a.lastIndexOf===v)return c?
a.lastIndexOf(d,b):a.lastIndexOf(d);for(b=c?b:a.length;b--;)if(a[b]===d)return b;return-1};l.range=function(a,d,b){arguments.length<=1&&(d=a||0,a=0);for(var b=arguments[2]||1,c=Math.max(Math.ceil((d-a)/b),0),i=0,e=Array(c);i<c;)e[i++]=a,a+=b;return e};var F=function(){};l.bind=function(a,d){var b,c;if(a.bind===G&&G)return G.apply(a,e.call(arguments,1));if(!l.isFunction(a))throw new TypeError;c=e.call(arguments,2);return b=function(){if(!(this instanceof b))return a.apply(d,c.concat(e.call(arguments)));
F.prototype=a.prototype;var i=new F,f=a.apply(i,c.concat(e.call(arguments)));if(Object(f)===f)return f;return i}};l.bindAll=function(a){var d=e.call(arguments,1);d.length==0&&(d=l.functions(a));C(d,function(d){a[d]=l.bind(a[d],a)});return a};l.memoize=function(a,d){var b={};d||(d=l.identity);return function(){var c=d.apply(this,arguments);return l.has(b,c)?b[c]:b[c]=a.apply(this,arguments)}};l.delay=function(a,d){var b=e.call(arguments,2);return setTimeout(function(){return a.apply(null,b)},d)};l.defer=
function(a){return l.delay.apply(l,[a,1].concat(e.call(arguments,1)))};l.throttle=function(a,d){var b,c,i,e,f,h,g=l.debounce(function(){f=e=!1},d);return function(){b=this;c=arguments;var m;i||(i=setTimeout(function(){i=null;f&&(h=a.apply(b,c));g()},d));e?f=!0:(e=!0,h=a.apply(b,c));g();return h}};l.debounce=function(a,d,b){var c,i;return function(){var e=this,f=arguments,h=b&&!c;clearTimeout(c);c=setTimeout(function(){c=null;b||(i=a.apply(e,f))},d);h&&(i=a.apply(e,f));return i}};l.once=function(a){var d=
!1,b;return function(){if(d)return b;d=!0;b=a.apply(this,arguments);a=null;return b}};l.wrap=function(a,d){return function(){var b=[a];h.apply(b,arguments);return d.apply(this,b)}};l.compose=function(){var a=arguments;return function(){for(var d=arguments,b=a.length-1;b>=0;b--)d=[a[b].apply(this,d)];return d[0]}};l.after=function(a,d){if(a<=0)return d();return function(){if(--a<1)return d.apply(this,arguments)}};l.keys=D||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var d=[],
b;for(b in a)l.has(a,b)&&(d[d.length]=b);return d};l.values=function(a){var d=[],b;for(b in a)l.has(a,b)&&d.push(a[b]);return d};l.pairs=function(a){var d=[],b;for(b in a)l.has(a,b)&&d.push([b,a[b]]);return d};l.invert=function(a){var d={},b;for(b in a)l.has(a,b)&&(d[a[b]]=b);return d};l.functions=l.methods=function(a){var d=[],b;for(b in a)l.isFunction(a[b])&&d.push(b);return d.sort()};l.extend=function(a){C(e.call(arguments,1),function(d){for(var b in d)a[b]=d[b]});return a};l.pick=function(a){var d=
{},c=b.apply(f,e.call(arguments,1));C(c,function(b){b in a&&(d[b]=a[b])});return d};l.omit=function(a){var d={},c=b.apply(f,e.call(arguments,1)),i;for(i in a)l.contains(c,i)||(d[i]=a[i]);return d};l.defaults=function(a){C(e.call(arguments,1),function(d){for(var b in d)a[b]==null&&(a[b]=d[b])});return a};l.clone=function(a){if(!l.isObject(a))return a;return l.isArray(a)?a.slice():l.extend({},a)};l.tap=function(a,d){d(a);return a};var I=function(a,d,b,c){if(a===d)return a!==0||1/a==1/d;if(a==null||
d==null)return a===d;if(a instanceof l)a=a._wrapped;if(d instanceof l)d=d._wrapped;var i=n.call(a);if(i!=n.call(d))return!1;switch(i){case "[object String]":return a==String(d);case "[object Number]":return a!=+a?d!=+d:a==0?1/a==1/d:a==+d;case "[object Date]":case "[object Boolean]":return+a==+d;case "[object RegExp]":return a.source==d.source&&a.global==d.global&&a.multiline==d.multiline&&a.ignoreCase==d.ignoreCase}if(typeof a!="object"||typeof d!="object")return!1;for(var e=b.length;e--;)if(b[e]==
a)return c[e]==d;b.push(a);c.push(d);var e=0,f=!0;if(i=="[object Array]"){if(e=a.length,f=e==d.length)for(;e--;)if(!(f=I(a[e],d[e],b,c)))break}else{var i=a.constructor,h=d.constructor;if(i!==h&&(!l.isFunction(i)||!(i instanceof i&&l.isFunction(h)&&h instanceof h)))return!1;for(var g in a)if(l.has(a,g)&&(e++,!(f=l.has(d,g)&&I(a[g],d[g],b,c))))break;if(f){for(g in d)if(l.has(d,g)&&!e--)break;f=!e}}b.pop();c.pop();return f};l.isEqual=function(a,d){return I(a,d,[],[])};l.isEmpty=function(a){if(a==null)return!0;
if(l.isArray(a)||l.isString(a))return a.length===0;for(var d in a)if(l.has(a,d))return!1;return!0};l.isElement=function(a){return!!(a&&a.nodeType===1)};l.isArray=m||function(a){return n.call(a)=="[object Array]"};l.isObject=function(a){return a===Object(a)};C(["Arguments","Function","String","Number","Date","RegExp"],function(a){l["is"+a]=function(d){return n.call(d)=="[object "+a+"]"}});if(!l.isArguments(arguments))l.isArguments=function(a){return!(!a||!l.has(a,"callee"))};if(typeof/./!=="function")l.isFunction=
function(a){return typeof a==="function"};l.isFinite=function(a){return l.isNumber(a)&&isFinite(a)};l.isNaN=function(a){return l.isNumber(a)&&a!=+a};l.isBoolean=function(a){return a===!0||a===!1||n.call(a)=="[object Boolean]"};l.isNull=function(a){return a===null};l.isUndefined=function(a){return a===void 0};l.has=function(a,d){return o.call(a,d)};l.noConflict=function(){j._=g;return this};l.identity=function(a){return a};l.times=function(a,d,b){for(var c=0;c<a;c++)d.call(b,c)};l.random=function(a,
d){d==null&&(d=a,a=0);return a+(0|Math.random()*(d-a+1))};var J={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};J.unescape=l.invert(J.escape);var K={escape:RegExp("["+l.keys(J.escape).join("")+"]","g"),unescape:RegExp("("+l.keys(J.unescape).join("|")+")","g")};l.each(["escape","unescape"],function(a){l[a]=function(d){if(d==null)return"";return(""+d).replace(K[a],function(d){return J[a][d]})}});l.result=function(a,d){if(a==null)return null;var b=a[d];return l.isFunction(b)?
b.call(a):b};l.mixin=function(a){C(l.functions(a),function(d){var b=l[d]=a[d];l.prototype[d]=function(){var a=[this._wrapped];h.apply(a,arguments);a=b.apply(l,a);return this._chain?l(a).chain():a}})};var L=0;l.uniqueId=function(a){var d=L++;return a?a+d:d};l.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var d=/(.)^/,i={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},x=/\\|'|\r|\n|\t|\u2028|\u2029/g;l.template=
function(a,b,c){var c=l.defaults({},c,l.templateSettings),e=RegExp([(c.escape||d).source,(c.interpolate||d).source,(c.evaluate||d).source].join("|")+"|$","g"),f=0,h="__p+='";a.replace(e,function(d,b,c,e,k){h+=a.slice(f,k).replace(x,function(a){return"\\"+i[a]});h+=b?"'+\n((__t=("+b+"))==null?'':_.escape(__t))+\n'":c?"'+\n((__t=("+c+"))==null?'':__t)+\n'":e?"';\n"+e+"\n__p+='":"";f=k+d.length});h+="';\n";c.variable||(h="with(obj||{}){\n"+h+"}\n");h="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+
h+"return __p;\n";try{var g=new Function(c.variable||"obj","_",h)}catch(m){throw m.source=h,m;}if(b)return g(b,l);b=function(a){return g.call(this,a,l)};b.source="function("+(c.variable||"obj")+"){\n"+h+"}";return b};l.chain=function(a){return l(a).chain()};l.mixin(l);C(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var d=f[a];l.prototype[a]=function(){var b=this._wrapped;d.apply(b,arguments);(a=="shift"||a=="splice")&&b.length===0&&delete b[0];return this._chain?l(b).chain():
b}});C(["concat","join","slice"],function(a){var d=f[a];l.prototype[a]=function(){var a=d.apply(this._wrapped,arguments);return this._chain?l(a).chain():a}});l.extend(l.prototype,{chain:function(){this._chain=!0;return this},value:function(){return this._wrapped}})}).call(this);(function(j){function g(b){var c=w[b]={},e,f,b=b.split(/\s+/);e=0;for(f=b.length;e<f;e++)c[b[e]]=!0;return c}var c={},f=Array.prototype,m=Object.prototype,h=m.hasOwnProperty,e=m.toString,b=f.forEach,n=f.slice,o=function(e,f,g){var m,o;if(e)if(b&&e.forEach===b)e.forEach(f,g);else if(e.length===+e.length){m=0;for(o=e.length;m<o;m++)if(m in e&&f.call(g,e[m],m,e)===c)break}else for(m in e)if(h.call(e,m)&&f.call(g,e[m],m,e)===c)break},p=function(b){return!(!b||!b.constructor||!b.call||!b.apply)},s={"[object Array]":"array",
"[object Function]":"function"};"done fail isResolved isRejected promise then always pipe".split(" ");var r={},w={};r.Callbacks=function(b){var b=b?w[b]||g(b):{},c=[],f=[],h,m,o,j,l,n=function(f){var h,g,m,o;h=0;for(g=f.length;h<g;h++)m=f[h],o=!m?String(m):s[e.call(m)]||"object",o==="array"?n(m):o==="function"&&(!b.unique||!r.has(m))&&c.push(m)},p=function(e,g){g=g||[];h=!b.memory||[e,g];m=!0;l=o||0;o=0;for(j=c.length;c&&l<j;l++)if(c[l].apply(e,g)===!1&&b.stopOnFalse){h=!0;break}m=!1;c&&(b.once?h===
!0?r.disable():c=[]:f&&f.length&&(h=f.shift(),r.fireWith(h[0],h[1])))},r={add:function(){if(c){var b=c.length;n(arguments);m?j=c.length:h&&h!==!0&&(o=b,p(h[0],h[1]))}return this},remove:function(){if(c)for(var e=arguments,f=0,h=e.length;f<h;f++)for(var g=0;g<c.length;g++)if(e[f]===c[g]&&(m&&g<=j&&(j--,g<=l&&l--),c.splice(g--,1),b.unique))break;return this},has:function(b){if(c)for(var e=0,f=c.length;e<f;e++)if(b===c[e])return!0;return!1},empty:function(){c=[];return this},disable:function(){c=f=h=
void 0;return this},disabled:function(){return!c},lock:function(){f=void 0;(!h||h===!0)&&r.disable();return this},locked:function(){return!f},fireWith:function(c,e){f&&(m?b.once||f.push([c,e]):(!b.once||!h)&&p(c,e));return this},fire:function(){r.fireWith(this,arguments);return this},fired:function(){return!!h}};return r};r.Deferred=function(b){var c=r.Callbacks("once memory"),e=r.Callbacks("once memory"),f=r.Callbacks("memory"),h="pending",g={resolve:c,reject:e,notify:f},m={done:c.add,fail:e.add,
progress:f.add,state:function(){return h},isResolved:c.fired,isRejected:e.fired,then:function(b,c,e){j.done(b).fail(c).progress(e);return this},always:function(){j.done.apply(j,arguments).fail.apply(j,arguments);return this},pipe:function(b,c,e){return r.Deferred(function(f){o({done:[b,"resolve"],fail:[c,"reject"],progress:[e,"notify"]},function(b,c){var e=b[0],h=b[1],g;if(p(e))j[c](function(){if((g=e.apply(this,arguments))&&p(g.promise))g.promise().then(f.resolve,f.reject,f.notify);else f[h+"With"](this===
j?f:this,[g])});else j[c](f[h])})}).promise()},promise:function(b){if(b)for(var c in m)b[c]=m[c];else b=m;return b}},j=m.promise({}),n;for(n in g)j[n]=g[n].fire,j[n+"With"]=g[n].fireWith;j.done(function(){h="resolved"},e.disable,f.lock).fail(function(){h="rejected"},c.disable,f.lock);b&&b.call(j,j);return j};r.when=function(b){function c(b){return function(c){f[b]=arguments.length>1?n.call(arguments,0):c;--j||o.resolveWith(o,f)}}function e(b){return function(c){m[b]=arguments.length>1?n.call(arguments,
0):c;o.notifyWith(s,m)}}var f=n.call(arguments,0),h=0,g=f.length,m=Array(g),j=g,o=g<=1&&b&&p(b.promise)?b:r.Deferred(),s=o.promise();if(g>1){for(;h<g;h++)f[h]&&f[h].promise&&p(f[h].promise)?f[h].promise().then(c(h),o.reject,e(h)):--j;j||o.resolveWith(o,f)}else o!==b&&o.resolveWith(o,g?[b]:[]);return s};typeof module!=="undefined"&&module.exports?module.exports=r:typeof j._!=="undefined"?j._.mixin(r):j._=r})(this);(function(j){j.strip=function(g){var c=document.createElement("DIV");c.innerHTML=g;return c.textContent||c.innerText};j.truncate=function(g,c,f){return g.length>c?g.slice(0,c)+(f||"..."):g};j.pluralize=function(g,c,f){return g===1?c:f};j.chainedDefer=function(){return function(g,c,f){j.defer(function(){g.length&&(c.call(f,g.shift()),j.chainedDefer(g,c,f))})}}();j.decorate=function(){var g=j.toArray(arguments),c=g.pop(),f;j.isFunction(c)||(f=c,c=g.pop());return j.reduceRight(g,function(c,h){return h.call(f||
this,c)},function(){return c.apply(f||this,arguments)})}})(_);(function(){var j=this,g=j.Backbone,c=[],f=c.push,m=c.slice,h=c.splice,e;e=typeof exports!=="undefined"?exports:j.Backbone={};e.VERSION="1.0.0";var b=j._;!b&&typeof require!=="undefined"&&(b=require("underscore"));e.$=j.jQuery||j.Zepto||j.ender||j.$;e.noConflict=function(){j.Backbone=g;return this};e.emulateHTTP=!1;e.emulateJSON=!1;var n=e.Events={on:function(d,b,c){if(!p(this,"on",d,[b,c])||!b)return this;this._events||(this._events={});(this._events[d]||(this._events[d]=[])).push({callback:b,context:c,
ctx:c||this});return this},once:function(d,c,e){if(!p(this,"once",d,[c,e])||!c)return this;var a=this,f=b.once(function(){a.off(d,f);c.apply(this,arguments)});f._callback=c;return this.on(d,f,e)},off:function(d,c,e){var a,f,h,g,m,j,o,l;if(!this._events||!p(this,"off",d,[c,e]))return this;if(!d&&!c&&!e)return this._events={},this;g=d?[d]:b.keys(this._events);m=0;for(j=g.length;m<j;m++)if(d=g[m],h=this._events[d]){this._events[d]=a=[];if(c||e){o=0;for(l=h.length;o<l;o++)f=h[o],(c&&c!==f.callback&&c!==
f.callback._callback||e&&e!==f.context)&&a.push(f)}a.length||delete this._events[d]}return this},trigger:function(d){if(!this._events)return this;var b=m.call(arguments,1);if(!p(this,"trigger",d,b))return this;var c=this._events[d],a=this._events.all;c&&s(c,b);a&&s(a,arguments);return this},stopListening:function(d,b,c){var a=this._listeners;if(!a)return this;var e=!b&&!c;typeof b==="object"&&(c=this);d&&((a={})[d._listenerId]=d);for(var f in a)a[f].off(b,c,this),e&&delete this._listeners[f];return this}},
o=/\s+/,p=function(d,b,c,a){if(!c)return!0;if(typeof c==="object"){for(var e in c)d[b].apply(d,[e,c[e]].concat(a));return!1}if(o.test(c)){c=c.split(o);e=0;for(var f=c.length;e<f;e++)d[b].apply(d,[c[e]].concat(a));return!1}return!0},s=function(d,b){var c,a=-1,e=d.length,f=b[0],h=b[1],g=b[2];switch(b.length){case 0:for(;++a<e;)(c=d[a]).callback.call(c.ctx);break;case 1:for(;++a<e;)(c=d[a]).callback.call(c.ctx,f);break;case 2:for(;++a<e;)(c=d[a]).callback.call(c.ctx,f,h);break;case 3:for(;++a<e;)(c=
d[a]).callback.call(c.ctx,f,h,g);break;default:for(;++a<e;)(c=d[a]).callback.apply(c.ctx,b)}};b.each({listenTo:"on",listenToOnce:"once"},function(d,c){n[c]=function(c,a,e){var i=this._listeners||(this._listeners={}),f=c._listenerId||(c._listenerId=b.uniqueId("l"));i[f]=c;typeof a==="object"&&(e=this);c[d](a,e,this);return this}});n.bind=n.on;n.unbind=n.off;b.extend(e,n);var r=e.Model=function(d,c){var e,a=d||{};c||(c={});this.cid=b.uniqueId("c");this.attributes={};b.extend(this,b.pick(c,w));c.parse&&
(a=this.parse(a,c)||{});if(e=b.result(this,"defaults"))a=b.defaults({},a,e);this.set(a,c);this.changed={};this.initialize.apply(this,arguments)},w=["url","urlRoot","collection"];b.extend(r.prototype,n,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return b.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(b){return this.attributes[b]},escape:function(d){return b.escape(this.get(d))},has:function(b){return this.get(b)!=
null},set:function(d,c,e){var a,f,h,g,m,o,j;if(d==null)return this;typeof d==="object"?(f=d,e=c):(f={})[d]=c;e||(e={});if(!this._validate(f,e))return!1;h=e.unset;g=e.silent;d=[];m=this._changing;this._changing=!0;if(!m)this._previousAttributes=b.clone(this.attributes),this.changed={};j=this.attributes;o=this._previousAttributes;if(this.idAttribute in f)this.id=f[this.idAttribute];for(a in f)c=f[a],b.isEqual(j[a],c)||d.push(a),b.isEqual(o[a],c)?delete this.changed[a]:this.changed[a]=c,h?delete j[a]:
j[a]=c;if(!g){if(d.length)this._pending=!0;c=0;for(a=d.length;c<a;c++)this.trigger("change:"+d[c],this,j[d[c]],e)}if(m)return this;if(!g)for(;this._pending;)this._pending=!1,this.trigger("change",this,e);this._changing=this._pending=!1;return this},unset:function(d,c){return this.set(d,void 0,b.extend({},c,{unset:!0}))},clear:function(d){var c={},e;for(e in this.attributes)c[e]=void 0;return this.set(c,b.extend({},d,{unset:!0}))},hasChanged:function(d){if(d==null)return!b.isEmpty(this.changed);return b.has(this.changed,
d)},changedAttributes:function(d){if(!d)return this.hasChanged()?b.clone(this.changed):!1;var c,e=!1,a=this._changing?this._previousAttributes:this.attributes,f;for(f in d)if(!b.isEqual(a[f],c=d[f]))(e||(e={}))[f]=c;return e},previous:function(b){if(b==null||!this._previousAttributes)return null;return this._previousAttributes[b]},previousAttributes:function(){return b.clone(this._previousAttributes)},fetch:function(d){d=d?b.clone(d):{};if(d.parse===void 0)d.parse=!0;var c=this,e=d.success;d.success=
function(a){if(!c.set(c.parse(a,d),d))return!1;e&&e(c,a,d);c.trigger("sync",c,a,d)};L(this,d);return this.sync("read",this,d)},save:function(d,c,e){var a,f=this.attributes;d==null||typeof d==="object"?(a=d,e=c):(a={})[d]=c;if(a&&(!e||!e.wait)&&!this.set(a,e))return!1;e=b.extend({validate:!0},e);if(!this._validate(a,e))return!1;if(a&&e.wait)this.attributes=b.extend({},f,a);if(e.parse===void 0)e.parse=!0;var h=this,g=e.success;e.success=function(d){h.attributes=f;var c=h.parse(d,e);e.wait&&(c=b.extend(a||
{},c));if(b.isObject(c)&&!h.set(c,e))return!1;g&&g(h,d,e);h.trigger("sync",h,d,e)};L(this,e);d=this.isNew()?"create":e.patch?"patch":"update";if(d==="patch")e.attrs=a;d=this.sync(d,this,e);if(a&&e.wait)this.attributes=f;return d},destroy:function(d){var d=d?b.clone(d):{},c=this,e=d.success,a=function(){c.trigger("destroy",c,c.collection,d)};d.success=function(b){(d.wait||c.isNew())&&a();e&&e(c,b,d);c.isNew()||c.trigger("sync",c,b,d)};if(this.isNew())return d.success(),!1;L(this,d);var f=this.sync("delete",
this,d);d.wait||a();return f},url:function(){var d=b.result(this,"urlRoot")||b.result(this.collection,"url")||K();if(this.isNew())return d;return d+(d.charAt(d.length-1)==="/"?"":"/")+encodeURIComponent(this.id)},parse:function(b){return b},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},isValid:function(d){return this._validate({},b.extend(d||{},{validate:!0}))},_validate:function(d,c){if(!c.validate||!this.validate)return!0;var d=b.extend({},
this.attributes,d),e=this.validationError=this.validate(d,c)||null;if(!e)return!0;this.trigger("invalid",this,e,b.extend(c||{},{validationError:e}));return!1}});b.each(["keys","values","pairs","invert","pick","omit"],function(d){r.prototype[d]=function(){var c=m.call(arguments);c.unshift(this.attributes);return b[d].apply(b,c)}});var y=e.Collection=function(d,c){c||(c={});if(c.url)this.url=c.url;if(c.model)this.model=c.model;if(c.comparator!==void 0)this.comparator=c.comparator;this._reset();this.initialize.apply(this,
arguments);d&&this.reset(d,b.extend({silent:!0},c))},t={add:!0,remove:!0,merge:!0},E={add:!0,merge:!1,remove:!1};b.extend(y.prototype,n,{model:r,initialize:function(){},toJSON:function(b){return this.map(function(c){return c.toJSON(b)})},sync:function(){return e.sync.apply(this,arguments)},add:function(d,c){return this.set(d,b.defaults(c||{},E))},remove:function(d,c){d=b.isArray(d)?d.slice():[d];c||(c={});var e,a,f,h;e=0;for(a=d.length;e<a;e++)if(h=this.get(d[e])){delete this._byId[h.id];delete this._byId[h.cid];
f=this.indexOf(h);this.models.splice(f,1);this.length--;if(!c.silent)c.index=f,h.trigger("remove",h,this,c);this._removeReference(h)}return this},set:function(d,c){c=b.defaults(c||{},t);c.parse&&(d=this.parse(d,c));b.isArray(d)||(d=d?[d]:[]);var e,a,g,m,j,o=c.at,l=this.comparator&&o==null&&c.sort!==!1,n=b.isString(this.comparator)?this.comparator:null,p=[],s=[],r={};e=0;for(a=d.length;e<a;e++)if(g=this._prepareModel(d[e],c))(m=this.get(g))?(c.remove&&(r[m.cid]=!0),c.merge&&(m.set(g.attributes,c),
l&&!j&&m.hasChanged(n)&&(j=!0))):c.add&&(p.push(g),g.on("all",this._onModelEvent,this),this._byId[g.cid]=g,g.id!=null&&(this._byId[g.id]=g));if(c.remove){e=0;for(a=this.length;e<a;++e)r[(g=this.models[e]).cid]||s.push(g);s.length&&this.remove(s,c)}p.length&&(l&&(j=!0),this.length+=p.length,o!=null?h.apply(this.models,[o,0].concat(p)):f.apply(this.models,p));j&&this.sort({silent:!0});if(c.silent)return this;e=0;for(a=p.length;e<a;e++)(g=p[e]).trigger("add",g,this,c);j&&this.trigger("sort",this,c);
return this},reset:function(d,c){c||(c={});for(var e=0,a=this.models.length;e<a;e++)this._removeReference(this.models[e]);c.previousModels=this.models;this._reset();this.add(d,b.extend({silent:!0},c));c.silent||this.trigger("reset",this,c);return this},push:function(d,c){d=this._prepareModel(d,c);this.add(d,b.extend({at:this.length},c));return d},pop:function(b){var c=this.at(this.length-1);this.remove(c,b);return c},unshift:function(d,c){d=this._prepareModel(d,c);this.add(d,b.extend({at:0},c));return d},
shift:function(b){var c=this.at(0);this.remove(c,b);return c},slice:function(b,c){return this.models.slice(b,c)},get:function(b){if(b!=null)return this._byId[b.id!=null?b.id:b.cid||b]},at:function(b){return this.models[b]},where:function(d,c){if(b.isEmpty(d))return c?void 0:[];return this[c?"find":"filter"](function(b){for(var a in d)if(d[a]!==b.get(a))return!1;return!0})},findWhere:function(b){return this.where(b,!0)},sort:function(d){if(!this.comparator)throw Error("Cannot sort a set without a comparator");
d||(d={});b.isString(this.comparator)||this.comparator.length===1?this.models=this.sortBy(this.comparator,this):this.models.sort(b.bind(this.comparator,this));d.silent||this.trigger("sort",this,d);return this},sortedIndex:function(d,c,e){c||(c=this.comparator);var a=b.isFunction(c)?c:function(a){return a.get(c)};return b.sortedIndex(this.models,d,a,e)},pluck:function(d){return b.invoke(this.models,"get",d)},fetch:function(d){d=d?b.clone(d):{};if(d.parse===void 0)d.parse=!0;var c=d.success,e=this;
d.success=function(a){e[d.reset?"reset":"set"](a,d);c&&c(e,a,d);e.trigger("sync",e,a,d)};L(this,d);return this.sync("read",this,d)},create:function(d,c){c=c?b.clone(c):{};if(!(d=this._prepareModel(d,c)))return!1;c.wait||this.add(d,c);var e=this,a=c.success;c.success=function(b){c.wait&&e.add(d,c);a&&a(d,b,c)};d.save(null,c);return d},parse:function(b){return b},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(b,
c){if(b instanceof r){if(!b.collection)b.collection=this;return b}c||(c={});c.collection=this;var e=new this.model(b,c);if(!e._validate(b,c))return this.trigger("invalid",this,b,c),!1;return e},_removeReference:function(b){this===b.collection&&delete b.collection;b.off("all",this._onModelEvent,this)},_onModelEvent:function(b,c,e,a){(b==="add"||b==="remove")&&e!==this||(b==="destroy"&&this.remove(c,a),c&&b==="change:"+c.idAttribute&&(delete this._byId[c.previous(c.idAttribute)],c.id!=null&&(this._byId[c.id]=
c)),this.trigger.apply(this,arguments))}});b.each(["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"],function(d){y.prototype[d]=function(){var c=m.call(arguments);c.unshift(this.models);return b[d].apply(b,c)}});b.each(["groupBy",
"countBy","sortBy"],function(d){y.prototype[d]=function(c,e){var a=b.isFunction(c)?c:function(a){return a.get(c)};return b[d](this.models,a,e)}});var c=e.View=function(d){this.cid=b.uniqueId("view");this._configure(d||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()},z=/^(\S+)\s*(.*)$/,v=["model","collection","el","id","attributes","className","tagName","events"];b.extend(c.prototype,n,{tagName:"div",$:function(b){return this.$el.find(b)},initialize:function(){},
render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(b,c){this.$el&&this.undelegateEvents();this.$el=b instanceof e.$?b:e.$(b);this.el=this.$el[0];c!==!1&&this.delegateEvents();return this},delegateEvents:function(d){if(!d&&!(d=b.result(this,"events")))return this;this.undelegateEvents();for(var c in d){var e=d[c];b.isFunction(e)||(e=this[d[c]]);if(e){var a=c.match(z),f=a[1],a=a[2],e=b.bind(e,this);f+=".delegateEvents"+this.cid;if(a===
"")this.$el.on(f,e);else this.$el.on(f,a,e)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_configure:function(d){this.options&&(d=b.extend({},b.result(this,"options"),d));b.extend(this,b.pick(d,v));this.options=d},_ensureElement:function(){if(this.el)this.setElement(b.result(this,"el"),!1);else{var d=b.extend({},b.result(this,"attributes"));if(this.id)d.id=b.result(this,"id");this.className&&(d["class"]=b.result(this,"className"));this.setElement(e.$("<"+
b.result(this,"tagName")+">").attr(d),!1)}}});e.sync=function(d,c,f){var a=D[d];b.defaults(f||(f={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var h={type:a,dataType:"json"};if(!f.url)h.url=b.result(c,"url")||K();if(f.data==null&&c&&(d==="create"||d==="update"||d==="patch"))h.contentType="application/json",h.data=JSON.stringify(f.attrs||c.toJSON(f));if(f.emulateJSON)h.contentType="application/x-www-form-urlencoded",h.data=h.data?{model:h.data}:{};if(f.emulateHTTP&&(a==="PUT"||a==="DELETE"||
a==="PATCH")){h.type="POST";if(f.emulateJSON)h.data._method=a;var g=f.beforeSend;f.beforeSend=function(b){b.setRequestHeader("X-HTTP-Method-Override",a);if(g)return g.apply(this,arguments)}}if(h.type!=="GET"&&!f.emulateJSON)h.processData=!1;if(h.type==="PATCH"&&window.ActiveXObject&&(!window.external||!window.external.msActiveXFilteringEnabled))h.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")};d=f.xhr=e.ajax(b.extend(h,f));c.trigger("request",c,d,f);return d};var D={create:"POST",update:"PUT",
patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var G=e.Router=function(b){b||(b={});if(b.routes)this.routes=b.routes;this._bindRoutes();this.initialize.apply(this,arguments)},l=/\((.*?)\)/g,C=/(\(\?)?:\w+/g,H=/\*\w+/g,q=/[\-{}\[\]+?.,\\\^$|#\s]/g;b.extend(G.prototype,n,{initialize:function(){},route:function(d,c,f){b.isRegExp(d)||(d=this._routeToRegExp(d));b.isFunction(c)&&(f=c,c="");f||(f=this[c]);var a=this;e.history.route(d,function(b){b=a._extractParameters(d,
b);f&&f.apply(a,b);a.trigger.apply(a,["route:"+c].concat(b));a.trigger("route",c,b);e.history.trigger("route",a,c,b)});return this},navigate:function(b,c){e.history.navigate(b,c);return this},_bindRoutes:function(){if(this.routes){this.routes=b.result(this,"routes");for(var d,c=b.keys(this.routes);(d=c.pop())!=null;)this.route(d,this.routes[d])}},_routeToRegExp:function(b){b=b.replace(q,"\\$&").replace(l,"(?:$1)?").replace(C,function(b,d){return d?b:"([^/]+)"}).replace(H,"(.*?)");return RegExp("^"+
b+"$")},_extractParameters:function(d,c){var e=d.exec(c).slice(1);return b.map(e,function(a){return a?decodeURIComponent(a):null})}});var B=e.History=function(){this.handlers=[];b.bindAll(this,"checkUrl");if(typeof window!=="undefined")this.location=window.location,this.history=window.history},A=/^[#\/]|\s+$/g,F=/^\/+|\/+$/g,I=/msie [\w.]+/,J=/\/$/;B.started=!1;b.extend(B.prototype,n,{interval:50,getHash:function(b){return(b=(b||this).location.href.match(/#(.*)$/))?b[1]:""},getFragment:function(b,
c){if(b==null)if(this._hasPushState||!this._wantsHashChange||c){var b=this.location.pathname,e=this.root.replace(J,"");b.indexOf(e)||(b=b.substr(e.length))}else b=this.getHash();return b.replace(A,"")},start:function(d){if(B.started)throw Error("Backbone.history has already been started");B.started=!0;this.options=b.extend({},{root:"/"},this.options,d);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==!1;this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||
!this.history||!this.history.pushState);var d=this.getFragment(),c=document.documentMode,c=I.exec(navigator.userAgent.toLowerCase())&&(!c||c<=7);this.root=("/"+this.root+"/").replace(F,"/");if(c&&this._wantsHashChange)this.iframe=e.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(d);if(this._hasPushState)e.$(window).on("popstate",this.checkUrl);else if(this._wantsHashChange&&"onhashchange"in window&&!c)e.$(window).on("hashchange",this.checkUrl);
else if(this._wantsHashChange)this._checkUrlInterval=setInterval(this.checkUrl,this.interval);this.fragment=d;d=this.location;c=d.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!c)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;else if(this._wantsPushState&&this._hasPushState&&c&&d.hash)this.fragment=this.getHash().replace(A,""),this.history.replaceState({},
document.title,this.root+this.fragment+d.search);if(!this.options.silent)return this.loadUrl()},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);B.started=!1},route:function(b,c){this.handlers.unshift({route:b,callback:c})},checkUrl:function(){var b=this.getFragment();b===this.fragment&&this.iframe&&(b=this.getFragment(this.getHash(this.iframe)));if(b===this.fragment)return!1;this.iframe&&this.navigate(b);this.loadUrl()||
this.loadUrl(this.getHash())},loadUrl:function(d){var c=this.fragment=this.getFragment(d);return b.any(this.handlers,function(b){if(b.route.test(c))return b.callback(c),!0})},navigate:function(b,c){if(!B.started)return!1;if(!c||c===!0)c={trigger:c};b=this.getFragment(b||"");if(this.fragment!==b){this.fragment=b;var e=this.root+b;if(this._hasPushState)this.history[c.replace?"replaceState":"pushState"]({},document.title,e);else if(this._wantsHashChange)this._updateHash(this.location,b,c.replace),this.iframe&&
b!==this.getFragment(this.getHash(this.iframe))&&(c.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,b,c.replace));else return this.location.assign(e);c.trigger&&this.loadUrl(b)}},_updateHash:function(b,c,e){e?(e=b.href.replace(/(javascript:|#).*$/,""),b.replace(e+"#"+c)):b.hash="#"+c}});e.history=new B;r.extend=y.extend=G.extend=c.extend=B.extend=function(d,c){var e=this,a;a=d&&b.has(d,"constructor")?d.constructor:function(){return e.apply(this,arguments)};b.extend(a,
e,c);var f=function(){this.constructor=a};f.prototype=e.prototype;a.prototype=new f;d&&b.extend(a.prototype,d);a.__super__=e.prototype;return a};var K=function(){throw Error('A "url" property or function must be specified');},L=function(b,c){var e=c.error;c.error=function(a){e&&e(b,a,c);b.trigger("error",b,a,c)}}}).call(this);(function(j){j.View.prototype.delegateActions=function(g,c){var f=this;g.delegate("[data-action]","click",function(g){g.preventDefault();var h=$(g.currentTarget).attr("data-action");if(h=c[h])if(typeof h==="function")h.call(f,g);else f[h](g)})};j.when=function(){var g=_.toArray(arguments),g=_.map(g,function(c){var f=new _.Deferred;c[0].on(c[1],function(){f.resolve()});return f.promise()});return _.when.apply(this,g)};j.collectionAddNormalizer=function(g,c){return function(f){return function(m,h,e){if(m instanceof
g)e=h,h=m,m=h.models;else if(m instanceof c)m=[m];else if(!_.isArray(m))throw"Unknown model: "+typeof m;return f.call(this,m,h,e||{})}}}})(Backbone);this.Handlebars={};
(function(j){j.VERSION="1.0.rc.2";j.COMPILER_REVISION=2;j.REVISION_CHANGES={1:"<= 1.0.rc.2",2:">= 1.0.rc.3"};j.helpers={};j.partials={};j.registerHelper=function(c,f,g){if(g)f.not=g;this.helpers[c]=f};j.registerPartial=function(c,f){this.partials[c]=f};j.registerHelper("helperMissing",function(c){if(arguments.length!==2)throw Error("Could not find property '"+c+"'");});var g=Object.prototype.toString;j.registerHelper("blockHelperMissing",function(c,f){var m=f.inverse||function(){},h=f.fn,e=g.call(c);
e==="[object Function]"&&(c=c.call(this));return c===!0?h(this):c===!1||c==null?m(this):e==="[object Array]"?c.length>0?j.helpers.each(c,f):m(this):h(c)});j.K=function(){};j.createFrame=Object.create||function(c){j.K.prototype=c;c=new j.K;j.K.prototype=null;return c};j.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(c,f){if(j.logger.level<=c){var g=j.logger.methodMap[c];typeof console!=="undefined"&&console[g]&&console[g].call(console,f)}}};
j.log=function(c,f){j.logger.log(c,f)};j.registerHelper("each",function(c,f){var g=f.fn,h=f.inverse,e=0,b="",n;f.data&&(n=j.createFrame(f.data));if(c&&typeof c==="object")if(c instanceof Array)for(var o=c.length;e<o;e++){if(n)n.index=e;b+=g(c[e],{data:n})}else for(o in c)if(c.hasOwnProperty(o)){if(n)n.key=o;b+=g(c[o],{data:n});e++}e===0&&(b=h(this));return b});j.registerHelper("if",function(c,f){g.call(c)==="[object Function]"&&(c=c.call(this));return!c||j.Utils.isEmpty(c)?f.inverse(this):f.fn(this)});
j.registerHelper("unless",function(c,f){var g=f.fn;f.fn=f.inverse;f.inverse=g;return j.helpers["if"].call(this,c,f)});j.registerHelper("with",function(c,f){return f.fn(c)});j.registerHelper("log",function(c,f){var g=f.data&&f.data.level!=null?parseInt(f.data.level,10):1;j.log(g,c)})})(this.Handlebars);var errorProps=["description","fileName","lineNumber","message","name","number","stack"];
Handlebars.Exception=function(){for(var j=Error.prototype.constructor.apply(this,arguments),g=0;g<errorProps.length;g++)this[errorProps[g]]=j[errorProps[g]]};Handlebars.Exception.prototype=Error();Handlebars.SafeString=function(j){this.string=j};Handlebars.SafeString.prototype.toString=function(){return this.string.toString()};
(function(){var j={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},g=/[&<>"'`]/g,c=/[&<>"'`]/,f=function(c){return j[c]||"&amp;"};Handlebars.Utils={escapeExpression:function(m){if(m instanceof Handlebars.SafeString)return m.toString();else if(m==null||m===!1)return"";if(!c.test(m))return m;return m.replace(g,f)},isEmpty:function(c){return!c&&c!==0?!0:Object.prototype.toString.call(c)==="[object Array]"&&c.length===0?!0:!1}}})();
Handlebars.VM={template:function(j){var g={escapeExpression:Handlebars.Utils.escapeExpression,invokePartial:Handlebars.VM.invokePartial,programs:[],program:function(c,f,g){var h=this.programs[c];return g?Handlebars.VM.program(f,g):(h||(h=this.programs[c]=Handlebars.VM.program(f)),h)},programWithDepth:Handlebars.VM.programWithDepth,noop:Handlebars.VM.noop,compilerInfo:null};return function(c,f){var f=f||{},m=j.call(g,Handlebars,c,f.helpers,f.partials,f.data),h=g.compilerInfo||[],e=h[0]||1,b=Handlebars.COMPILER_REVISION;
if(e!==b)if(e<b)throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+Handlebars.REVISION_CHANGES[b]+") or downgrade your runtime to an older version ("+Handlebars.REVISION_CHANGES[e]+").";else throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+h[1]+").";return m}},programWithDepth:function(j,g){var c=Array.prototype.slice.call(arguments,
2);return function(f,m){m=m||{};return j.apply(this,[f,m.data||g].concat(c))}},program:function(j,g){return function(c,f){f=f||{};return j(c,f.data||g)}},noop:function(){return""},invokePartial:function(j,g,c,f,m,h){f={helpers:f,partials:m,data:h};if(j===void 0)throw new Handlebars.Exception("The partial "+g+" could not be found");else if(j instanceof Function)return j(c,f);else if(Handlebars.compile)return m[g]=Handlebars.compile(j,{data:h!==void 0}),m[g](c,f);else throw new Handlebars.Exception("The partial "+
g+" could not be compiled when running in runtime-only mode");}};Handlebars.template=Handlebars.VM.template;(function(){Handlebars.registerHelper("ifIn",function(){var j=arguments.length,g=arguments[j-1],c=arguments[0],f=!1,m;if(j>2)if(Object.prototype.toString.call(arguments[1])==="[object Array]"){var h=arguments[1],j=h.length;for(m=0;m<j;m++)if(h[m]===c){f=!0;break}}else for(m=1;m<j-1;m++)if(arguments[m]===c){f=!0;break}if(f)return g.fn(this);return g.inverse(this)});Handlebars.registerHelper("ifNotIn",function(){var j=arguments[arguments.length-1],g=j.fn;j.fn=j.inverse;j.inverse=g;return Handlebars.helpers.ifIn.apply(this,
arguments)});Handlebars.registerHelper("ifRegex",function(j,g,c){if(RegExp(j,"g").test(g))return c.fn(this);return c.inverse(this)});Handlebars.registerHelper("any",function(){for(var j=arguments.length,g=0;g<j-1;g++)if(arguments[g])return arguments[g]});Handlebars.registerHelper("t",function(){var j=arguments[arguments.length-1],g=j.hash,c=arguments[0],f=window.Handlebars.partials,m,h,e,b;for(e in g)g.hasOwnProperty(e)&&(h=RegExp("%\\(("+e+")\\)s","gm"),(b=(m=g[e])&&m.executePartial)&&(m=f[m.partial].call(this,
m.context,j)),m===void 0||m===null||typeof m==="number"&&isNaN(m)?m="":b||(m=Handlebars.Utils.escapeExpression(m)),c=c.replace(h,m.toString()));return new Handlebars.SafeString(c)});Handlebars.registerHelper("g",function(j,g){for(var c=g.data,f=j.split("."),m=f.length,h=0;c.hasOwnProperty(f[h])&&h<m;)c=c[f[h]],h++;return c});Handlebars.registerHelper("html",function(j){return new Handlebars.SafeString(j||"")});Handlebars.registerHelper("partial",function(j,g){Handlebars.registerPartial(j,g.fn)});
Handlebars.registerHelper("with",function(){var j=arguments.length,g=arguments[j-1],c=arguments[0];if(j===3)c={},c[arguments[0]]=arguments[1];else if(c==="_window_")c=window;else if(c==="_global_")c=g.data;return g.fn(c)});Handlebars.registerHelper("math",function(j,g,c){switch(c.hash.op){case "multiply":return j*g;case "sum":return j+g;default:return 0}});Handlebars.registerHelper("each",function(j,g){var c=g.fn,f=g.inverse,m=0,h="",e;g.data&&(e=Handlebars.createFrame(g.data));if(j&&typeof j==="object")if(Object.prototype.toString.call(j)===
"[object Array]")for(var b=j.length;m<b;m++){if(e)e.index=m,e.length=j.length;h+=c(j[m],{data:e})}else for(b in j)if(j.hasOwnProperty(b)){if(e)e.key=b;h+=c(j[b],{data:e});m++}m===0&&(h=f(this));return h});Handlebars.registerHelper("log",function(j){window.console.log(j,this)});Handlebars.registerHelper("debug",function(){debugger})})();(function(j){j.fn.autoresize=function(g){var c=_.extend({extraSpace:0,maxHeight:1E3},g);return this.each(function(){var f=j(this).css({resize:"none",overflow:"hidden"}),g=String(f[0].contentEditable)==="true"?"html":"val",h=g==="html"?"<br>":"\n",e=f.height(),b=function(){var b={};_.each(b,function(c,e){b[e]=f.css(e)});var c=j(f[0].cloneNode(!0));c.removeAttr("id").removeAttr("name").css({visibility:"hidden",position:"absolute",top:0,left:"100%",contentEditable:!1}).css(b).attr("tabIndex","-1");c.insertAfter(f[0]);
return c}(),n=null,o=function(){b[0].style.height=0;b[g](f[g]()+h);b.scrollTop(b[0].scrollHeight);var j=Math.max(b[0].scrollHeight,e)+parseInt(c.extraSpace,10);if(c.maxHeight)j>=c.maxHeight?(f.css("overflow",""),j=c.maxHeight):f.css("overflow","hidden");n!==j&&(n=j,f.height(j),f.trigger&&f.trigger("resize"))},p=_.throttle(o,500);f.bind("keyup",function(b){b.keyCode===13?o():p()}).bind("paste",o).css("overflow","hidden");o()})}})($);var md5=function(){function j(c,e,b,f,g,j){c=m(m(e,c),m(f,j));return m(c<<g|c>>>32-g,b)}function g(c,e,b,f,g,m,s){return j(e&b|~e&f,c,e,g,m,s)}function c(c,e,b,f,g,m,s){return j(e&f|b&~f,c,e,g,m,s)}function f(c,e,b,f,g,m,s){return j(b^(e|~f),c,e,g,m,s)}function m(c,e){var b=(c&65535)+(e&65535);return(c>>16)+(e>>16)+(b>>16)<<16|b&65535}return function(h){for(var e="",b=-1,n,o;++b<h.length;)n=h.charCodeAt(b),o=b+1<h.length?h.charCodeAt(b+1):0,55296<=n&&n<=56319&&56320<=o&&o<=57343&&(n=65536+((n&1023)<<
10)+(o&1023),b++),n<=127?e+=String.fromCharCode(n):n<=2047?e+=String.fromCharCode(192|n>>>6&31,128|n&63):n<=65535?e+=String.fromCharCode(224|n>>>12&15,128|n>>>6&63,128|n&63):n<=2097151&&(e+=String.fromCharCode(240|n>>>18&7,128|n>>>12&63,128|n>>>6&63,128|n&63));h=Array(e.length>>2);for(b=0;b<h.length;b++)h[b]=0;for(b=0;b<e.length*8;b+=8)h[b>>5]|=(e.charCodeAt(b/8)&255)<<b%32;e=e.length*8;h[e>>5]|=128<<e%32;h[(e+64>>>9<<4)+14]=e;e=1732584193;b=-271733879;n=-1732584194;o=271733878;for(var p=0;p<h.length;p+=
16){var s=e,r=b,w=n,y=o,e=g(e,b,n,o,h[p+0],7,-680876936);o=g(o,e,b,n,h[p+1],12,-389564586);n=g(n,o,e,b,h[p+2],17,606105819);b=g(b,n,o,e,h[p+3],22,-1044525330);e=g(e,b,n,o,h[p+4],7,-176418897);o=g(o,e,b,n,h[p+5],12,1200080426);n=g(n,o,e,b,h[p+6],17,-1473231341);b=g(b,n,o,e,h[p+7],22,-45705983);e=g(e,b,n,o,h[p+8],7,1770035416);o=g(o,e,b,n,h[p+9],12,-1958414417);n=g(n,o,e,b,h[p+10],17,-42063);b=g(b,n,o,e,h[p+11],22,-1990404162);e=g(e,b,n,o,h[p+12],7,1804603682);o=g(o,e,b,n,h[p+13],12,-40341101);n=g(n,
o,e,b,h[p+14],17,-1502002290);b=g(b,n,o,e,h[p+15],22,1236535329);e=c(e,b,n,o,h[p+1],5,-165796510);o=c(o,e,b,n,h[p+6],9,-1069501632);n=c(n,o,e,b,h[p+11],14,643717713);b=c(b,n,o,e,h[p+0],20,-373897302);e=c(e,b,n,o,h[p+5],5,-701558691);o=c(o,e,b,n,h[p+10],9,38016083);n=c(n,o,e,b,h[p+15],14,-660478335);b=c(b,n,o,e,h[p+4],20,-405537848);e=c(e,b,n,o,h[p+9],5,568446438);o=c(o,e,b,n,h[p+14],9,-1019803690);n=c(n,o,e,b,h[p+3],14,-187363961);b=c(b,n,o,e,h[p+8],20,1163531501);e=c(e,b,n,o,h[p+13],5,-1444681467);
o=c(o,e,b,n,h[p+2],9,-51403784);n=c(n,o,e,b,h[p+7],14,1735328473);b=c(b,n,o,e,h[p+12],20,-1926607734);e=j(b^n^o,e,b,h[p+5],4,-378558);o=j(e^b^n,o,e,h[p+8],11,-2022574463);n=j(o^e^b,n,o,h[p+11],16,1839030562);b=j(n^o^e,b,n,h[p+14],23,-35309556);e=j(b^n^o,e,b,h[p+1],4,-1530992060);o=j(e^b^n,o,e,h[p+4],11,1272893353);n=j(o^e^b,n,o,h[p+7],16,-155497632);b=j(n^o^e,b,n,h[p+10],23,-1094730640);e=j(b^n^o,e,b,h[p+13],4,681279174);o=j(e^b^n,o,e,h[p+0],11,-358537222);n=j(o^e^b,n,o,h[p+3],16,-722521979);b=j(n^
o^e,b,n,h[p+6],23,76029189);e=j(b^n^o,e,b,h[p+9],4,-640364487);o=j(e^b^n,o,e,h[p+12],11,-421815835);n=j(o^e^b,n,o,h[p+15],16,530742520);b=j(n^o^e,b,n,h[p+2],23,-995338651);e=f(e,b,n,o,h[p+0],6,-198630844);o=f(o,e,b,n,h[p+7],10,1126891415);n=f(n,o,e,b,h[p+14],15,-1416354905);b=f(b,n,o,e,h[p+5],21,-57434055);e=f(e,b,n,o,h[p+12],6,1700485571);o=f(o,e,b,n,h[p+3],10,-1894986606);n=f(n,o,e,b,h[p+10],15,-1051523);b=f(b,n,o,e,h[p+1],21,-2054922799);e=f(e,b,n,o,h[p+8],6,1873313359);o=f(o,e,b,n,h[p+15],10,
-30611744);n=f(n,o,e,b,h[p+6],15,-1560198380);b=f(b,n,o,e,h[p+13],21,1309151649);e=f(e,b,n,o,h[p+4],6,-145523070);o=f(o,e,b,n,h[p+11],10,-1120210379);n=f(n,o,e,b,h[p+2],15,718787259);b=f(b,n,o,e,h[p+9],21,-343485551);e=m(e,s);b=m(b,r);n=m(n,w);o=m(o,y)}h=[e,b,n,o];e="";for(b=0;b<h.length*32;b+=8)e+=String.fromCharCode(h[b>>5]>>>b%32&255);h=e;e="";for(n=0;n<h.length;n++)b=h.charCodeAt(n),e+="0123456789abcdef".charAt(b>>>4&15)+"0123456789abcdef".charAt(b&15);return e}}();function parseUri(j){for(var g=parseUri.options,j=g.parser[g.strictMode?"strict":"loose"].exec(j),c={},f=14;f--;)c[g.key[f]]=j[f]||"";c[g.q.name]={};c[g.key[12]].replace(g.q.parser,function(f,h,e){h&&(c[g.q.name][h]=e)});return c}
parseUri.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};
(function(){var j=this,g;g=j.Raven={};g.VERSION="0.4";g.loaded=!1;g.options={secretKey:void 0,publicKey:void 0,servers:[],projectId:1,logger:"javascript",site:void 0,signatureUrl:void 0,fetchHeaders:!1,testMode:!1};g.funcNameRE=/function\s*([\w\-$]+)?\s*\(/i;g.config=function(c){if(typeof c==="string")if(c.indexOf("http")===0)c=g.parseDSN(c);else throw"Base64 encoded config is no longer supported - use DSN";_.each(c,function(c,j){g.options[j]=c})};g.parseDSN=function(c){var c=parseUri(c),f=c.path.lastIndexOf("/"),
g;f===-1?(f=c.path.substr(1),g=""):(g=c.path.substr(1,f),f=c.path.substr(f+1));return{servers:[c.protocol+"://"+c.host+":"+c.port+"/"+g+"api/"+f+"/store/"],publicKey:c.user,secretKey:c.password,projectId:f}};g.getHeaders=function(){var c={};g.options.fetchHeaders&&(c=$.ajax({method:"HEAD",url:j.location,async:!1}).getAllResponseHeaders());c.Referer=document.referrer;c["User-Agent"]=navigator.userAgent;return c};g.parseHeaders=function(c){var f={};_.each(c.split("\n"),function(c){var g=c.slice(0,c.indexOf(":")),
c=c.slice(c.indexOf(":")+2);f[g]=c});return f};g.getSignature=function(c,f,j){g.options.signatureUrl?$.ajax({url:g.options.signatureUrl,method:"post",data:{message:c,timestamp:f},success:function(c){j(c.signature)}}):j()};g.getAuthHeader=function(c,f){var j="Sentry sentry_version=2.0, ";j+="sentry_timestamp="+f+", ";j+="sentry_client=raven-js/"+g.VERSION;g.options.publicKey&&(j+=", sentry_key="+g.options.publicKey);c&&(j+=", sentry_signature="+c);return j};g.captureException=function(c){var f,j,h;
if(c.line)f=c.line;else if(c.lineNumber)f=c.lineNumber;if(c.sourceURL)h=c.sourceURL;else if(c.fileName)h=c.fileName;j=c.arguments&&c.stack?this.chromeTraceback(c):c.stack?c.stack.indexOf("@")==-1?this.chromeTraceback(c):this.firefoxTraceback(c):[{filename:h,lineno:f}];g.process(c,h,f,j)};g.captureMessage=function(c){g.process(c)};g.trimString=function(c){return c.replace(/^\s+|\s+$/g,"")};g.chromeTraceback=function(c){var f,j,h,e,b=[],c=c.stack.split("\n");_.each(c.slice(1),function(c){f=g.trimString(c).slice(3);
f!="unknown source"&&(f=f.split(" "),f.length>2?(j=f[0],h=f.slice(1).join(" "),e="(unknown)"):f.length==2?(j=f[0],h=f[1]):(j="(unknown)",h=f[0]),h&&h!="(unknown source)"&&(h=h.slice(0,1)=="("?h.slice(1,-1).split(":"):h.split(":"),e=h.slice(-2)[0],h=h.slice(0,-2).join(":")),b.push({"function":j,filename:h,lineno:e}))});return b};g.firefoxTraceback=function(c){var f,g,h,e,b,j=[],c=c.stack.split("\n");_.each(c,function(c){c&&(f=c.split("@"),f[0]?(g=f[0].split("("),h=g[1]!=")"?g[1].slice(0,-1).split(","):
void 0,g=g[0]?g[0]:"(unknown)"):g="(unknown)",e=f[1].split(":"),b=e.slice(-1)[0],e=e.slice(0,-1).join(":"),j.push({"function":g,filename:e,lineno:b,vars:{arguments:h}}))});return j};g.otherTraceback=function(c){for(var f,g,h=[];c&&h.length<9;)f=c.name||(this.funcNameRE.test(c.toString())?RegExp.$1||"<anonymous>":"<anonymous>"),g=c.arguments?this.stringifyArguments(c.arguments):void 0,h.push({filename:"(unknown source)",lineno:"(unknown)","function":f,post_context:c.toString().split("\n"),vars:{arguments:g}}),
c=c.caller;return h};g.stringifyArguments=function(c){var f,g=this,h=[];_.each(c,function(c){c===void 0?h.push("undefined"):c===null?h.push("null"):c instanceof Array?h.push(g.stringifyArguments(c)):c.constructor?(f=c.constructor.name||(g.funcNameRE.test(c.constructor.toString())?RegExp.$1||"<unknown>":"<unknown>"),f=="String"?h.push('"'+c+'"'):f=="Number"||f=="Date"?h.push(c):f=="Boolean"?h.push(c?"true":"false"):h.push(f)):h.push("<unknown>")});return h};g.process=function(c,f,m,h,e){var b,n,o,
p;b=j.location.origin+j.location.pathname;var s=j.location.search.slice(1);if(typeof c==="object")p=c.name,c=c.message;h?(n={frames:h},f=f||h[0].filename):f&&(n={frames:[{filename:f,lineno:m}]});c={message:m?c+" at "+m:c,culprit:f,"sentry.interfaces.Stacktrace":n,"sentry.interfaces.Exception":{type:p,value:c},project:g.options.projectId,logger:g.options.logger,site:g.options.site};g.options.testMode||(c["sentry.interfaces.Http"]={url:b,querystring:s,headers:g.getHeaders()});e=e||(new Date).getTime();
o=JSON.stringify(c);g.getSignature(o,e,function(b){var c=g.getAuthHeader(b,e);_.each(g.options.servers,function(b){$.ajax({method:"POST",url:b,data:o,headers:{"X-Sentry-Auth":c,Authentication:c}})})})}}).call(this);(function(j){function g(b,a){return function(c){return n(b.call(this,c),a)}}function c(b){return function(a){return this.lang().ordinal(b.call(this,a))}}function f(){}function m(b){e(this,b)}function h(a){var c=this._data={},d=a.years||a.year||a.y||0,e=a.months||a.month||a.M||0,f=a.weeks||a.week||a.w||0,g=a.days||a.day||a.d||0,h=a.hours||a.hour||a.h||0,i=a.minutes||a.minute||a.m||0,j=a.seconds||a.second||a.s||0,a=a.milliseconds||a.millisecond||a.ms||0;this._milliseconds=a+j*1E3+i*6E4+h*36E5;this._days=
g+f*7;this._months=e+d*12;c.milliseconds=a%1E3;j+=b(a/1E3);c.seconds=j%60;i+=b(j/60);c.minutes=i%60;h+=b(i/60);c.hours=h%24;g+=b(h/24);g+=f*7;c.days=g%30;e+=b(g/30);c.months=e%12;d+=b(e/12);c.years=d}function e(b,a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function b(b){return b<0?Math.ceil(b):Math.floor(b)}function n(b,a){for(var c=b+"";c.length<a;)c="0"+c;return c}function o(b,a,c){var d=a._milliseconds,e=a._days,a=a._months;d&&b._d.setTime(+b+d*c);e&&b.date(b.date()+e*c);a&&(d=
b.date(),b.date(1).month(b.month()+a*c).date(Math.min(d,b.daysInMonth())))}function p(b,a){var c=Math.min(b.length,a.length),d=Math.abs(b.length-a.length),e=0,f;for(f=0;f<c;f++)~~b[f]!==~~a[f]&&e++;return e+d}function s(b){if(!b)return q.fn._lang;!F[b]&&I&&require("./lang/"+b);return F[b]}function r(b){if(b.match(/\[.*\]/))return b.replace(/^\[|\]$/g,"");return b.replace(/\\/g,"")}function w(b){var a=b.match(K),c,d;c=0;for(d=a.length;c<d;c++)a[c]=S[a[c]]?S[a[c]]:r(a[c]);return function(e){var f="";
for(c=0;c<d;c++)f+=typeof a[c].call==="function"?a[c].call(e,b):a[c];return f}}function y(b,a){function c(a){return b.lang().longDateFormat(a)||a}for(var d=5;d--&&L.test(a);)a=a.replace(L,c);V[a]||(V[a]=w(a));return V[a](b)}function t(b){switch(b){case "DDDD":return x;case "YYYY":return a;case "YYYYY":return k;case "S":case "SS":case "SSS":case "DDD":return i;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":case "a":case "A":return N;case "X":return W;case "Z":case "ZZ":return O;case "T":return P;
case "MM":case "DD":case "YY":case "HH":case "hh":case "mm":case "ss":case "M":case "D":case "d":case "H":case "h":case "m":case "s":return d;default:return RegExp(b.replace("\\",""))}}function E(b){var a,c=[];if(!b._d){for(a=0;a<7;a++)b._a[a]=c[a]=b._a[a]==null?a===2?1:0:b._a[a];c[3]+=b._tzh||0;c[4]+=b._tzm||0;a=new Date(0);b._useUTC?(a.setUTCFullYear(c[0],c[1],c[2]),a.setUTCHours(c[3],c[4],c[5],c[6])):(a.setFullYear(c[0],c[1],c[2]),a.setHours(c[3],c[4],c[5],c[6]));b._d=a}}function z(b){var a=b._f.match(K),
c=b._i,d,e;b._a=[];for(d=0;d<a.length;d++)if((e=(t(a[d]).exec(c)||[])[0])&&(c=c.slice(c.indexOf(e)+e.length)),S[a[d]]){var f=b,g=void 0,h=f._a;switch(a[d]){case "M":case "MM":h[1]=e==null?0:~~e-1;break;case "MMM":case "MMMM":g=s(f._l).monthsParse(e);g!=null?h[1]=g:f._isValid=!1;break;case "D":case "DD":case "DDD":case "DDDD":e!=null&&(h[2]=~~e);break;case "YY":h[0]=~~e+(~~e>68?1900:2E3);break;case "YYYY":case "YYYYY":h[0]=~~e;break;case "a":case "A":f._isPm=(e+"").toLowerCase()==="pm";break;case "H":case "HH":case "h":case "hh":h[3]=
~~e;break;case "m":case "mm":h[4]=~~e;break;case "s":case "ss":h[5]=~~e;break;case "S":case "SS":case "SSS":h[6]=~~(("0."+e)*1E3);break;case "X":f._d=new Date(parseFloat(e)*1E3);break;case "Z":case "ZZ":f._useUTC=!0;if((g=(e+"").match(M))&&g[1])f._tzh=~~g[1];if(g&&g[2])f._tzm=~~g[2];if(g&&g[0]==="+")f._tzh=-f._tzh,f._tzm=-f._tzm}if(e==null)f._isValid=!1}b._isPm&&b._a[3]<12&&(b._a[3]+=12);b._isPm===!1&&b._a[3]===12&&(b._a[3]=0);E(b)}function v(b,a,c,d,e){return e.relativeTime(a||1,!!c,b,d)}function D(b,
a,c){a=c-a;c-=b.day();c>a&&(c-=7);c<a-7&&(c+=7);return Math.ceil(q(b).add("d",c).dayOfYear()/7)}function G(b){var a=b._i,c=b._f;if(a===null||a==="")return null;if(typeof a==="string")b._i=a=s().preparse(a);if(q.isMoment(a))b=e({},a),b._d=new Date(+a._d);else if(c)if(Object.prototype.toString.call(c)==="[object Array]"){for(var a=b,d,f,g=99;a._f.length;){d=e({},a);d._f=a._f.pop();z(d);c=new m(d);if(c.isValid()){f=c;break}d=p(d._a,c.toArray());d<g&&(g=d,f=c)}e(a,f)}else z(b);else if(f=b,a=f._i,c=J.exec(a),
a===j)f._d=new Date;else if(c)f._d=new Date(+c[1]);else if(typeof a==="string")if(c=f._i,U.exec(c)){f._f="YYYY-MM-DDT";for(a=0;a<4;a++)if(T[a][1].exec(c)){f._f+=T[a][0];break}O.exec(c)&&(f._f+=" Z");z(f)}else f._d=new Date(c);else Object.prototype.toString.call(a)==="[object Array]"?(f._a=a.slice(0),E(f)):f._d=a instanceof Date?new Date(+a):new Date(a);return new m(b)}function l(a,b){q.fn[a]=q.fn[a+"s"]=function(a){var c=this._isUTC?"UTC":"";return a!=null?(this._d["set"+c+b](a),this):this._d["get"+
c+b]()}}function C(a){q.duration.fn[a]=function(){return this._data[a]}}function H(a,b){q.duration.fn["as"+a]=function(){return+this/b}}for(var q,B=Math.round,A,F={},I=typeof module!=="undefined"&&module.exports,J=/^\/?Date\((\-?\d+)/i,K=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,L=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,d=/\d\d?/,i=/\d{1,3}/,x=/\d{3}/,a=/\d{1,4}/,k=/[+\-]?\d{1,6}/,N=/[0-9]*[a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF]+\s*?[\u0600-\u06FF]+/i,
O=/Z|[\+\-]\d\d:?\d\d/i,P=/T/i,W=/[\+\-]?\d+(\.\d{1,3})?/,U=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,T=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],M=/([\+\-]|\d\d)/gi,Q="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),R={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},V={},X="DDD w W M D d".split(" "),Y="M D H h m s w W".split(" "),
S={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return n(this.year()%
100,2)},YYYY:function(){return n(this.year(),4)},YYYYY:function(){return n(this.year(),5)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return n(~~(this.milliseconds()/10),2)},SSS:function(){return n(this.milliseconds(),
3)},Z:function(){var a=-this.zone(),b="+";a<0&&(a=-a,b="-");return b+n(~~(a/60),2)+":"+n(~~a%60,2)},ZZ:function(){var a=-this.zone(),b="+";a<0&&(a=-a,b="-");return b+n(~~(10*a/6),4)},X:function(){return this.unix()}};X.length;)A=X.pop(),S[A+"o"]=c(S[A]);for(;Y.length;)A=Y.pop(),S[A+A]=g(S[A],2);S.DDDD=g(S.DDD,3);f.prototype={set:function(a){var b,c;for(c in a)b=a[c],typeof b==="function"?this[c]=b:this["_"+c]=b},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),
months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c;if(!this._monthsParse)this._monthsParse=[];for(b=0;b<12;b++)if(this._monthsParse[b]||(c=q([2E3,b]),c="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[b]=RegExp(c.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),
weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,
function(a){return a.slice(1)}),this._longDateFormat[a]=b);return b},meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return typeof c==="function"?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",
dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return typeof e==="function"?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?"future":"past"];return typeof c==="function"?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return D(a,this._week.dow,this._week.doy)},
_week:{dow:0,doy:6}};q=function(a,b,c){return G({_i:a,_f:b,_l:c,_isUTC:!1})};q.utc=function(a,b,c){return G({_useUTC:!0,_isUTC:!0,_l:c,_i:a,_f:b})};q.unix=function(a){return q(a*1E3)};q.duration=function(a,b){var c=q.isDuration(a),d=typeof a==="number",e=c?a._data:d?{}:a;if(d)b?e[b]=a:e.milliseconds=a;d=new h(e);if(c&&a.hasOwnProperty("_lang"))d._lang=a._lang;return d};q.version="2.0.0";q.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";q.lang=function(a,b){if(!a)return q.fn._lang._abbr;b?(b.abbr=a,F[a]||(F[a]=
new f),F[a].set(b)):F[a]||s(a);q.duration.fn._lang=q.fn._lang=s(a)};q.langData=function(a){if(a&&a._lang&&a._lang._abbr)a=a._lang._abbr;return s(a)};q.isMoment=function(a){return a instanceof m};q.isDuration=function(a){return a instanceof h};q.fn=m.prototype={clone:function(){return q(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1E3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._d},toJSON:function(){return q.utc(this).format("YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},
toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds()]},isValid:function(){if(this._isValid==null)this._isValid=this._a?!p(this._a,(this._isUTC?q.utc(this._a):q(this._a)).toArray()):!isNaN(this._d.getTime());return!!this._isValid},utc:function(){this._isUTC=!0;return this},local:function(){this._isUTC=!1;return this},format:function(a){a=y(this,a||q.defaultFormat);return this.lang().postformat(a)},add:function(a,b){var c;c=typeof a===
"string"?q.duration(+b,a):q.duration(a,b);o(this,c,1);return this},subtract:function(a,b){var c;c=typeof a==="string"?q.duration(+b,a):q.duration(a,b);o(this,c,-1);return this},diff:function(a,c,d){var a=this._isUTC?q(a).utc():q(a).local(),e=(this.zone()-a.zone())*6E4,f;c&&(c=c.replace(/s$/,""));c==="year"||c==="month"?(e=(this.daysInMonth()+a.daysInMonth())*432E5,f=(this.year()-a.year())*12+(this.month()-a.month()),f+=(this-q(this).startOf("month")-(a-q(a).startOf("month")))/e,c==="year"&&(f/=12)):
(e=this-a-e,f=c==="second"?e/1E3:c==="minute"?e/6E4:c==="hour"?e/36E5:c==="day"?e/864E5:c==="week"?e/6048E5:e);return d?f:b(f)},from:function(a,b){return q.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(q(),a)},calendar:function(){var a=this.diff(q().startOf("day"),"days",!0);return this.format(this.lang().calendar(a<-6?"sameElse":a<-1?"lastWeek":a<0?"lastDay":a<1?"sameDay":a<2?"nextDay":a<7?"nextWeek":"sameElse",this))},isLeapYear:function(){var a=
this.year();return a%4===0&&a%100!==0||a%400===0},isDST:function(){return this.zone()<q([this.year()]).zone()||this.zone()<q([this.year(),5]).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return a==null?b:this.add({d:a-b})},startOf:function(a){a=a.replace(/s$/,"");switch(a){case "year":this.month(0);case "month":this.date(1);case "week":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}a==="week"&&
this.day(0);return this},endOf:function(a){return this.startOf(a).add(a.replace(/s?$/,"s"),1).subtract("ms",1)},isAfter:function(a,b){b=typeof b!=="undefined"?b:"millisecond";return+this.clone().startOf(b)>+q(a).startOf(b)},isBefore:function(a,b){b=typeof b!=="undefined"?b:"millisecond";return+this.clone().startOf(b)<+q(a).startOf(b)},isSame:function(a,b){b=typeof b!=="undefined"?b:"millisecond";return+this.clone().startOf(b)===+q(a).startOf(b)},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},
daysInMonth:function(){return q.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(a){var b=B((q(this).startOf("day")-q(this).startOf("year"))/864E5)+1;return a==null?b:this.add("d",a-b)},isoWeek:function(a){var b=D(this,1,4);return a==null?b:this.add("d",(a-b)*7)},week:function(a){var b=this.lang().week(this);return a==null?b:this.add("d",(a-b)*7)},lang:function(a){return a===j?this._lang:(this._lang=s(a),this)}};for(A=0;A<Q.length;A++)l(Q[A].toLowerCase().replace(/s$/,""),Q[A]);l("year",
"FullYear");q.fn.days=q.fn.day;q.fn.weeks=q.fn.week;q.fn.isoWeeks=q.fn.isoWeek;q.duration.fn=h.prototype={weeks:function(){return b(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864E5+this._months*2592E6},humanize:function(a){var b=+this,c;c=!a;var d=this.lang(),e=B(Math.abs(b)/1E3),f=B(e/60),g=B(f/60),h=B(g/24),i=B(h/365),e=e<45&&["s",e]||f===1&&["m"]||f<45&&["mm",f]||g===1&&["h"]||g<22&&["hh",g]||h===1&&["d"]||h<=25&&["dd",h]||h<=45&&["M"]||h<345&&["MM",B(h/30)]||i===1&&
["y"]||["yy",i];e[2]=c;e[3]=b>0;e[4]=d;c=v.apply({},e);a&&(c=this.lang().pastFuture(b,c));return this.lang().postformat(c)},lang:q.fn.lang};for(A in R)R.hasOwnProperty(A)&&(H(A,R[A]),C(A.toLowerCase()));H("Weeks",6048E5);q.lang("en",{ordinal:function(a){var b=a%10;return a+(~~(a%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th")}});if(I)module.exports=q;this.moment=q;typeof define==="function"&&define.amd&&define("moment",[],function(){return q})}).call(this);(function(j){var g=function(c,f,g){this.store=c;this.max=f||10;this.queueKey=g||"__queue";this.getQueue()||this.setQueue([])};g.prototype.setItem=function(c,f){var g=this.getQueue()||this.setQueue([]);g.length===this.max&&this.store.removeItem(g.shift());this.store.setItem(c,f);g.push(c);this.setQueue(g)};g.prototype.getItem=function(c){return this.store.getItem(c)};g.prototype.removeItem=function(c){this.store.removeItem(c);for(var f=this.getQueue()||[],g=0;g<f.length;g++)if(f[g]===c){f.splice(g,
1);break}this.setQueue(f)};g.prototype.clear=function(){this.store.clear();this.setQueue([])};g.prototype.getQueue=function(){var c=this.store.getItem(this.queueKey);return c?JSON.parse(c):null};g.prototype.setQueue=function(c){this.store.setItem(this.queueKey,JSON.stringify(c));return c};j.QueuedStorage=g})(this);(function(j){function g(b){return b.replace(h," ")}function c(e,f,h){var j="",m=[],n,t,E,z;typeof h!=="string"&&(h="\n\n");for(z=0;z<e.length;++z)t=e[z],n=t.nodeName.toLowerCase(),t.nodeType===1?(E=f&&f(t))?j+=E:b.hasOwnProperty(n)?(j&&m.push(j),j=c(t.childNodes,f,h)):j+=n==="br"?"\n":c(t.childNodes,f,h):t.nodeType===3&&(j+=g(t.nodeValue));m.push(j);return m.join(h)}function f(b,c,e){if(b.addEventListener)b.addEventListener(c,e,!1);else if(b.attachEvent)b.attachEvent("on"+c,e);else throw Error("No event support.");
}for(var m=j.document,h=RegExp(String.fromCharCode(160),"gi"),e="h1 h2 h3 h4 h5 h6 p pre blockquote address ul ol dir menu li dl div form".split(" "),b={},n=0,n=0;n<e.length;n++)b[e[n]]=!0;e=function(b,c,e){var g=this;if(!b||!b.contentEditable)throw"First argument must be contentEditable";this.elem=b;if(this.emulateTextarea=b.getAttribute("plaintext-only")||c)this.pasteHandler=function(){var b=g.plainTextReformat;b.timeout&&clearTimeout(b.timeout);b.timeout=setTimeout(function(){b.timeout=null;b.call(g)},
0)},f(b,"paste",this.pasteHandler);for(var h in e)e.hasOwnProperty(h)&&(this[h]=e[h])};e.prototype={insertHTML:function(b){if(m.all){var c=m.selection.createRange();c.pasteHTML(b);c.collapse(!1);return c.select()}else return m.execCommand("insertHTML",!1,b)},insertNode:function(b){var c,e;j.getSelection?(c=j.getSelection(),c.getRangeAt&&c.rangeCount&&(e=c.getRangeAt(0),e.deleteContents(),e.insertNode(b),e.collapse(!1),c.removeAllRanges(),c.addRange(e))):m.selection&&m.selection.createRange&&(e=m.selection.createRange(),
b=b.nodeType===3?b.data:b.outerHTML,e.pasteHTML(b),e.collapse(!1))},getTextNodes:function(b){var c=this.elem;if(b&&b.nodeType)b=[b];else if(!b)b=c.childNodes;for(var c=[],e=0,f;e<b.length;++e)if(f=b[e])switch(f.nodeType){case 1:c=c.concat(this.getTextNodes(f.childNodes));break;case 3:/^\n\s+/.test(f.nodeValue)||c.push(f)}return c},text:function(b){var e=this.elem,f,g;try{f=Array.prototype.slice.call(e.childNodes)}catch(h){f=[];for(g=0;g<e.childNodes.length;++g)f.push(e.childNodes[g])}return c(f,b,
this.emulateTextarea&&"\n").replace(/^\s+|\s+$/g,"")},setText:function(b){var b=b||"",c=m.createDocumentFragment(),b=this.emulateTextarea?[b.replace(/(?:\r\n|\r|\n){2,}/g,"\n\n")]:b.split(/(?:\r\n|\r|\n){2,}/),e,f=b&&b.length,g;for(e=0;e<f;e++)g=b[e],g=this.createParagraph(g),c.appendChild(g);c.lastChild.appendChild(m.createElement("br"));this.elem.innerHTML="";this.elem.appendChild(c);(c=j.getSelection&&j.getSelection())&&c.anchorNode===this.elem&&c.modify&&c.modify("move","forward","line")},createParagraph:function(b){var c=
m.createElement("p"),e,f,g,h,j;f=b.split(/\r\n|\r|\n/);b=0;for(g=f.length;b<g;b++){e=f[b];j=this.getHtmlElements(e);e=0;for(h=j.length;e<h;e++)c.appendChild(j[e]);c.appendChild(m.createElement("br"))}c.lastChild&&c.removeChild(c.lastChild);return c},getHtmlElements:function(b){return[m.createTextNode(b)]},plainTextReformat:function(){if(!(this.elem.getElementsByTagName("p").length<=1)){this.emulateTextarea=!1;var b=this.text();this.emulateTextarea=!0;this.setText(b)}},removeNode:function(b){var c,
e;j.getSelection?(c=b.previousSibling,b.parentNode.removeChild(b),b=j.getSelection(),e=m.createRange(),c&&(e.setStart(c,c.length),e.setEnd(c,c.length)),b.addRange(e)):b.parentNode.removeChild(b)},selectedTextNode:function(){var b=this.elem,c;if(j.getSelection)return b=j.getSelection(),b.anchorNode;else if(m.selection.createRange){for(c=m.selection.createRange().duplicate();c.moveStart("character",-1E3)===-1E3;);c=c.text;var e,f,h,n,t,E;for(t=0;t<b.childNodes.length;++t){e=b.childNodes[t];f=this.getTextNodes(e);
for(E=0;E<f.length;++E)if(e=f[E],n=g(e.nodeValue),c.indexOf(n)>-1)h=e,c=c.replace(n,"");else if(n.indexOf(c)>-1)return e}return h}},selectedTextNodeOffset:function(b){var c;if(j.getSelection){if((b=j.getSelection())&&b.anchorOffset)c=b.anchorOffset}else if(b&&m.selection.createRange){c=m.selection.createRange();for(var b=g(b.nodeValue),e=c.duplicate(),e=e.parentElement(),f=0;c.moveStart("character",-1)!==0&&++f;){if(b.indexOf(g(c.text))===0||e!==c.parentElement())break;e=c.duplicate();e=e.parentElement()}c=
f}return isNaN(c)?0:c},selectNodeText:function(b,c,e){var f=this.elem,h;if(j.getSelection)return f=j.getSelection(),f.removeAllRanges(),h=m.createRange(),h.setStart(b,c),h.setEnd(b,e),f.addRange(h),f;else if(m.selection.createRange){h=m.selection.createRange();b=g(b.nodeValue);if(h.parentElement().nodeName.toLowerCase()==="body"){f.focus();for(h=m.selection.createRange();h.moveStart("character",-1E3)===-1E3;);for(;h.moveEnd("character",1E3)===1E3;);f=g(h.text).indexOf(b);f>0&&h.moveStart("character",
f+2);h.collapse()}for(;h.moveStart("character",-1)===-1&&b.indexOf(g(h.text))!==0;);for(;h.moveEnd("character",1)===1&&b!==g(h.text););h.moveStart("character",c);h.moveEnd("character",-1*(e-c-h.text.length));h.select();return h}}};e.normalizeSpace=g;j.Editable=e})(this);